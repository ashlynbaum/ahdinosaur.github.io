(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports=function(){for(var o=0;o<arguments.length;o++)if(void 0!==arguments[o])return arguments[o]};

},{}],2:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],3:[function(require,module,exports){
"use strict";function iota(r){for(var t=new Array(r),o=0;r>o;++o)t[o]=o;return t}module.exports=iota;

},{}],4:[function(require,module,exports){
module.exports=function(r){return!(null==r||!(r._isBuffer||r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)))};

},{}],5:[function(require,module,exports){
!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.returnExports=n()}(this,function(){return function(e,n){return"undefined"==typeof e?null:"null"==typeof e?null:n?(e%n+n)%n:e}});

},{}],6:[function(require,module,exports){
function compare1st(t,r){return t[0]-r[0]}function order(){var t,r=this.stride,e=new Array(r.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(r[t]),t];e.sort(compare1st);var n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=e[t][1];return n}function compileConstructor(t,r){var e=["View",r,"d",t].join("");0>r&&(e="View_Nil"+t);var n="generic"===t;if(-1===r){var o="function "+e+"(a){this.data=a;};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+e+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+e+"(a){return new "+e+"(a);}",i=new Function(o);return i()}if(0===r){var o="function "+e+"(a,d) {this.data = a;this.offset = d};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+e+"_copy() {return new "+e+"(this.data,this.offset)};proto.pick=function "+e+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+e+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+e+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}",i=new Function("TrivialArray",o);return i(CACHED_CONSTRUCTORS[t][0])}var o=["'use strict'"],a=iota(r),s=a.map(function(t){return"i"+t}),u="this.offset+"+a.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),p=a.map(function(t){return"b"+t}).join(","),f=a.map(function(t){return"c"+t}).join(",");o.push("function "+e+"(a,"+p+","+f+",d){this.data=a","this.shape=["+p+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),o.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){return "+a.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===r?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>r?(o.push("function "+e+"_order(){"),2===r?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===r&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+e+"_set("+s.join(",")+",v){"),n?o.push("return this.data.set("+u+",v)}"):o.push("return this.data["+u+"]=v}"),o.push("proto.get=function "+e+"_get("+s.join(",")+"){"),n?o.push("return this.data.get("+u+")}"):o.push("return this.data["+u+"]}"),o.push("proto.index=function "+e+"_index(",s.join(),"){return "+u+"}"),o.push("proto.hi=function "+e+"_hi("+s.join(",")+"){return new "+e+"(this.data,"+a.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+a.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var h=a.map(function(t){return"a"+t+"=this.shape["+t+"]"}),c=a.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+e+"_lo("+s.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+c.join(","));for(var d=0;r>d;++d)o.push("if(typeof i"+d+"==='number'&&i"+d+">=0){d=i"+d+"|0;b+=c"+d+"*d;a"+d+"-=d}");o.push("return new "+e+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+e+"_step("+s.join(",")+"){var "+a.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+a.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var d=0;r>d;++d)o.push("if(typeof i"+d+"==='number'){d=i"+d+"|0;if(d<0){c+=b"+d+"*(a"+d+"-1);a"+d+"=ceil(-a"+d+"/d)}else{a"+d+"=ceil(a"+d+"/d)}b"+d+"*=d}");o.push("return new "+e+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"b"+t}).join(",")+",c)}");for(var y=new Array(r),l=new Array(r),d=0;r>d;++d)y[d]="a[i"+d+"]",l[d]="b[i"+d+"]";o.push("proto.transpose=function "+e+"_transpose("+s+"){"+s.map(function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+y.join(",")+","+l.join(",")+",this.offset)}"),o.push("proto.pick=function "+e+"_pick("+s+"){var a=[],b=[],c=this.offset");for(var d=0;r>d;++d)o.push("if(typeof i"+d+"==='number'&&i"+d+">=0){c=(c+this.stride["+d+"]*i"+d+")|0}else{a.push(this.shape["+d+"]);b.push(this.stride["+d+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+a.map(function(t){return"shape["+t+"]"}).join(",")+","+a.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var i=new Function("CTOR_LIST","ORDER",o.join("\n"));return i(CACHED_CONSTRUCTORS[t],order)}function arrayDType(t){if(isBuffer(t))return"buffer";if(hasTypedArrays)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function wrappedNDArrayCtor(t,r,e,n){if(void 0===t){var o=CACHED_CONSTRUCTORS.array[0];return o([])}"number"==typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var i=r.length;if(void 0===e){e=new Array(i);for(var a=i-1,s=1;a>=0;--a)e[a]=s,s*=r[a]}if(void 0===n){n=0;for(var a=0;i>a;++a)e[a]<0&&(n-=(r[a]-1)*e[a])}for(var u=arrayDType(t),p=CACHED_CONSTRUCTORS[u];p.length<=i+1;)p.push(compileConstructor(u,p.length-1));var o=p[i+1];return o(t,r,e,n)}var iota=require("iota-array"),isBuffer=require("is-buffer"),hasTypedArrays="undefined"!=typeof Float64Array,CACHED_CONSTRUCTORS={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};module.exports=wrappedNDArrayCtor;

},{"iota-array":3,"is-buffer":4}],7:[function(require,module,exports){
(function (process){
(function(){var e,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(e()-r)/1e6},n=process.hrtime,e=function(){var e;return e=n(),1e9*e[0]+e[1]},r=e()):Date.now?(module.exports=function(){return Date.now()-r},r=Date.now()):(module.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this);

}).call(this,require('_process'))
},{"_process":8}],8:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],9:[function(require,module,exports){
function pullRaf(){return pull.asyncMap(function(l,u){raf(function(){u(null,l)})})}var pull=require("pull-stream"),raf=require("raf");module.exports=pullRaf;

},{"pull-stream":10,"raf":41}],10:[function(require,module,exports){
"use strict";var sources=require("./sources"),sinks=require("./sinks"),throughs=require("./throughs");exports=module.exports=require("./pull");for(var k in sources)exports[k]=sources[k];for(var k in throughs)exports[k]=throughs[k];for(var k in sinks)exports[k]=sinks[k];

},{"./pull":11,"./sinks":16,"./sources":23,"./throughs":32}],11:[function(require,module,exports){
"use strict";module.exports=function r(n){var t=arguments.length;if("function"==typeof n&&1===n.length){for(var e=new Array(t),o=0;t>o;o++)e[o]=arguments[o];return function(n){return e.unshift(n),r.apply(null,e)}}var u=n;u&&"function"==typeof u.source&&(u=u.source);for(var o=1;t>o;o++){var f=arguments[o];"function"==typeof f?u=f(u):f&&"object"==typeof f&&(f.sink(u),u=f.source)}return u};

},{}],12:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e.push(r),e},[],e)};

},{"./reduce":19}],13:[function(require,module,exports){
"use strict";var reduce=require("./reduce");module.exports=function(e){return reduce(function(e,r){return e+r},"",e)};

},{"./reduce":19}],14:[function(require,module,exports){
"use strict";module.exports=function(n,t){function o(u){return i=u,r?o.abort():void function f(){for(var o=!0,u=!1;o;)if(u=!1,i(null,function(e,c){if(u=!0,e=e||r){if(o=!1,t)t(e===!0?null:e);else if(e&&e!==!0)throw e}else n&&!1===n(c)||r?(o=!1,i(r||!0,t||function(){})):o||f()}),!u)return void(o=!1)}()}var i,r;return o.abort=function(n,t){return"function"==typeof n&&(t=n,n=!0),r=n||!0,i?i(r,t||function(){}):void 0},o};

},{}],15:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),drain=require("./drain");module.exports=function(r,n){var i=!1;return n?r=prop(r)||id:(n=r,r=id),drain(function(u){return r(u)?(i=!0,n(null,u),!1):void 0},function(r){i||n(r===!0?null:r,null)})};

},{"../util/prop":39,"./drain":14}],16:[function(require,module,exports){
"use strict";module.exports={drain:require("./drain"),onEnd:require("./on-end"),log:require("./log"),find:require("./find"),reduce:require("./reduce"),collect:require("./collect"),concat:require("./concat")};

},{"./collect":12,"./concat":13,"./drain":14,"./find":15,"./log":17,"./on-end":18,"./reduce":19}],17:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(function(r){console.log(r)},r)};

},{"./drain":14}],18:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(r){return drain(null,r)};

},{"./drain":14}],19:[function(require,module,exports){
"use strict";var drain=require("./drain");module.exports=function(n,r,i){return drain(function(i){r=n(r,i)},function(n){i(n,r)})};

},{"./drain":14}],20:[function(require,module,exports){
"use strict";module.exports=function(n){var r=0;return n=n||1/0,function(t,u){return t?u&&u(t):r>n?u(!0):void u(null,r++)}};

},{}],21:[function(require,module,exports){
"use strict";module.exports=function(){return function(t,n){n(!0)}};

},{}],22:[function(require,module,exports){
"use strict";module.exports=function(t){return function(n,u){u(t)}};

},{}],23:[function(require,module,exports){
"use strict";module.exports={keys:require("./keys"),once:require("./once"),values:require("./values"),count:require("./count"),infinite:require("./infinite"),empty:require("./empty"),error:require("./error")};

},{"./count":20,"./empty":21,"./error":22,"./infinite":24,"./keys":25,"./once":26,"./values":27}],24:[function(require,module,exports){
"use strict";module.exports=function(n){return n=n||Math.random,function(t,r){return t?r&&r(t):r(null,n())}};

},{}],25:[function(require,module,exports){
"use strict";var values=require("./values");module.exports=function(e){return values(Object.keys(e))};

},{"./values":27}],26:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){return function(u,e){if(u)return abortCb(e,u,t);if(null!=r){var l=r;r=null,e(null,l)}else e(!0)}};

},{"../util/abort-cb":38}],27:[function(require,module,exports){
"use strict";var abortCb=require("../util/abort-cb");module.exports=function(r,t){if(!r)return function(r,n){return r?abortCb(n,r,t):n(!0)};Array.isArray(r)||(r=Object.keys(r).map(function(t){return r[t]}));var n=0;return function(u,e){return u?abortCb(e,u,t):void e(n>=r.length||null,r[n++])}};

},{"../util/abort-cb":38}],28:[function(require,module,exports){
"use strict";function id(n){return n}var prop=require("../util/prop");module.exports=function(n){if(!n)return id;n=prop(n);var r,u,t=!1;return function(i){return function o(e,c){return u?c(u):void(e?(u=e,t?i(e,function(){t?r=c:c(e)}):i(e,c)):i(null,function(i,e){i?c(i):u?c(u):(t=!0,n(e,function(n,i){t=!1,u?(c(u),r(u)):n?o(n,c):c(null,i)}))}))}}};

},{"../util/prop":39}],29:[function(require,module,exports){
"use strict";var tester=require("../util/tester"),filter=require("./filter");module.exports=function(e){return e=tester(e),filter(function(r){return!e(r)})};

},{"../util/tester":40,"./filter":30}],30:[function(require,module,exports){
"use strict";var tester=require("../util/tester");module.exports=function(t){return t=tester(t),function(r){return function e(n,u){for(var i,o=!0;o;)o=!1,i=!0,r(n,function(r,n){return r||t(n)?void u(r,n):i?o=!0:e(r,u)}),i=!1}}};

},{"../util/tester":40}],31:[function(require,module,exports){
"use strict";var values=require("../sources/values"),once=require("../sources/once");module.exports=function(){return function(n){var u;return function(e,o){function r(){u(null,function(u,e){u===!0?t():u?n(!0,function(n){o(u)}):o(null,e)})}function t(){u=null,n(null,function(n,e){return n?o(n):(Array.isArray(e)||e&&"object"==typeof e?e=values(e):"function"!=typeof e&&(e=once(e)),u=e,void r())})}e?u?u(e,function(u){n(u||e,o)}):n(e,o):u?r():t()}}};

},{"../sources/once":26,"../sources/values":27}],32:[function(require,module,exports){
"use strict";module.exports={map:require("./map"),asyncMap:require("./async-map"),filter:require("./filter"),filterNot:require("./filter-not"),through:require("./through"),take:require("./take"),unique:require("./unique"),nonUnique:require("./non-unique"),flatten:require("./flatten")};

},{"./async-map":28,"./filter":30,"./filter-not":29,"./flatten":31,"./map":33,"./non-unique":34,"./take":35,"./through":36,"./unique":37}],33:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop");module.exports=function(r){return r?(r=prop(r),function(n){return function(t,u){n(t,function(t,i){try{i=t?null:r(i)}catch(o){return n(o,function(){return u(o)})}u(t,i)})}}):id};

},{"../util/prop":39}],34:[function(require,module,exports){
"use strict";var unique=require("./unique");module.exports=function(u){return unique(u,!0)};

},{"./unique":37}],35:[function(require,module,exports){
"use strict";module.exports=function(n,u){u=u||{};var t=u.last||!1,r=!1;if("number"==typeof n){t=!0;var o=n;n=function(){return--o}}return function(u){function o(n){u(!0,function(u){t=!1,n(u||!0)})}return function(f,i){r?t?o(i):i(r):(r=f)?u(r,i):u(null,function(u,f){(r=r||u)?i(r):n(f)?i(null,f):(r=!0,t?i(null,f):o(i))})}}};

},{}],36:[function(require,module,exports){
"use strict";module.exports=function(n,t){function u(n){!r&&t&&(r=!0,t(n===!0?null:n))}var r=!1;return function(t){return function(r,o){return r&&u(r),t(r,function(t,r){t?u(t):n&&n(r),o(t,r)})}}};

},{}],37:[function(require,module,exports){
"use strict";function id(r){return r}var prop=require("../util/prop"),filter=require("./filter");module.exports=function(r,e){r=prop(r)||id;var t={};return filter(function(i){var u=r(i);return t[u]?!!e:(t[u]=!0,!e)})};

},{"../util/prop":39,"./filter":30}],38:[function(require,module,exports){
module.exports=function(l,n,o){l(n),o&&o(n===!0?null:n)};

},{}],39:[function(require,module,exports){
module.exports=function(e){return e&&("string"==typeof e?function(t){return t[e]}:"object"==typeof e&&"function"==typeof e.exec?function(t){var n=e.exec(t);return n&&n[0]}:e)};

},{}],40:[function(require,module,exports){
function id(t){return t}var prop=require("./prop");module.exports=function(t){return"object"==typeof t&&"function"==typeof t.test?function(r){return t.test(r)}:prop(t)||id};

},{"./prop":39}],41:[function(require,module,exports){
(function (global){
for(var now=require("performance-now"),root="undefined"==typeof window?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i=0;!raf&&i<vendors.length;i++)raf=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(e){if(0===queue.length){var o=now(),a=Math.max(0,frameDuration-(o-last));last=a+o,setTimeout(function(){var e=queue.slice(0);queue.length=0;for(var o=0;o<e.length;o++)if(!e[o].cancelled)try{e[o].callback(last)}catch(a){setTimeout(function(){throw a},0)}},Math.round(a))}return queue.push({handle:++id,callback:e,cancelled:!1}),id},caf=function(e){for(var o=0;o<queue.length;o++)queue[o].handle===e&&(queue[o].cancelled=!0)}}module.exports=function(e){return raf.call(root,e)},module.exports.cancel=function(){caf.apply(root,arguments)},module.exports.polyfill=function(){root.requestAnimationFrame=raf,root.cancelAnimationFrame=caf};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"performance-now":7}],42:[function(require,module,exports){
function rainbowGradient(e){e=defined(e,{});var r=defined(e.start,0),n=defined(e.step,1),d=defined(e.length,10),n=e.step;"function"==typeof n?n=n(d):null==n&&(n=1/d);for(var a=defined(e.saturation,100),i=defined(e.lightness,50),t=new Float32Array(3*d),o=0,f=0;o<t.length;o++,f+=3)t[f]=mod(o*n*360+r,360),t[f+1]=a,t[f+2]=i;var u=ndarray(t,[d,3]);return u.format="hsl",u}var defined=require("defined"),mod=require("mod-op"),ndarray=require("ndarray");module.exports=rainbowGradient;

},{"defined":1,"mod-op":5,"ndarray":6}],43:[function(require,module,exports){
function RainbowPixels(e){function r(){var e=rainbowGradient(t);t.start+=i;var r=Ndarray(e.data,n.concat(e.shape.slice(e.shape.length-1)));return r.format=e.format,r}e=e||{};var n=defined(e.shape,[8,8]),i=defined(e.inc,5),t={start:0,step:e.step,length:size(n),saturation:e.saturation,lightness:e.lightness};return infinite(r)}function size(e){return e.reduce(mult)}function mult(e,r){return e*r}const defined=require("defined"),Ndarray=require("ndarray"),rainbowGradient=require("rainbow-linear-gradient"),infinite=require("pull-stream/sources").infinite;module.exports=RainbowPixels;

},{"defined":1,"ndarray":6,"pull-stream/sources":23,"rainbow-linear-gradient":42}],44:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};

},{}],45:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var c="",a=!1,l=["{","}"];if(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";c=" [Function"+p+"]"}if(isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(0>t)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(f,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;u>s;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return 10>e?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(r){return"[Circular]"}default:return e}}),s=n[t];i>t;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./support/isBuffer":44,"_process":8,"inherits":2}],46:[function(require,module,exports){
function addEvent(e){function t(r){if(e.getAttribute("href")){var n=document.createElement("div");n.innerHTML=e.getAttribute("href");var o=removeObfuscation(n).innerHTML;e.setAttribute("href",o)}removeObfuscation(e),e.classList.remove("obfuscated"),e.removeEventListener("mouseenter",t),e.removeEventListener("click",t)}e.addEventListener("mouseenter",t),e.addEventListener("click",t)}function removeObfuscation(e){for(var t=e.querySelectorAll(".obfuscation"),r=0;r<t.length;r++)e.removeChild(t.item(r));return e}module.exports=function(){for(var e=document.querySelectorAll(".obfuscated"),t=0;t<e.length;t++)addEvent(e.item(t))};

},{}],47:[function(require,module,exports){
function createRainbow(){function e(){n&&n.abort(),t.style.display="none",i.style.display="none",a.style.width="unset",a.style.height="unset";var e=a.getBoundingClientRect();e.width>800?(t.src="./images/mikey-large.jpg",a.style.backgroundImage="unset",i.style.height=a.style.height=e.height+"px",i.style.width=a.style.width=e.width+"px",t.style.display="unset",i.style.display="unset",n=drain(toCanvas(i)),pull(rainbow({inc:2,shape:[64]}),raf(),n)):a.style.backgroundImage="url(./images/mikey-small.jpg)"}var a=document.querySelector(".main-image"),t=new Image;a.appendChild(t);var i=document.createElement("canvas");i.height="1",a.appendChild(i);var n;window.addEventListener("resize",function(a){e()},!1),e()}var pull=require("pull-stream/pull"),drain=require("pull-stream/sinks/drain"),rainbow=require("rainbow-pixels"),toCanvas=require("pixels-canvas"),raf=require("pull-raf");module.exports=createRainbow;

},{"pixels-canvas":49,"pull-raf":9,"pull-stream/pull":11,"pull-stream/sinks/drain":14,"rainbow-pixels":43}],48:[function(require,module,exports){
var deobfuscate=require("./deobfuscate"),rainbow=require("./rainbow");deobfuscate(),rainbow();
},{"./deobfuscate":46,"./rainbow":47}],49:[function(require,module,exports){
function createPixelsToCanvasRenderer(e){var n=e.getContext("2d");return function(e){render(n,e)}}function render(e,n){var a=genFillStyle(e,n.format),l=genFillRect(e,n.shape);return iteration(e,a,l,n)}function genFillStyle(e,n){var a=colorStyles[n];if(null==a)throw new Error("pixels-canvas: unsupported color format: ",n);var l;switch(n){case"keyword":l=genfun("function fillStyle (a) { ctx.fillStyle = toCss(a) }");break;case"rgb":case"hsl":l=genfun("function fillStyle (a, b, c) { ctx.fillStyle = toCss(a, b, c) }");break;case"hsla":case"rgba":l=genfun("function fillStyle (a, b, c, d) { ctx.fillStyle = toCss(a, b, c, d) }")}return l.toFunction({ctx:e,toCss:a})}function genFillRect(e,n){var a,l,r=n.length-1;switch(r){case 2:a=e.canvas.width/n[0],l=e.canvas.height/n[1];break;case 1:a=e.canvas.width/n[0],l=1;break;default:a=1,l=1}var i;switch(r){case-1:case 0:i=genfun("function fillRect () { ctx.fillRect(0, 0, %d, %d) }",a,l);break;case 1:i=genfun("function fillRect (x) { ctx.fillRect(x * %d, 0, %d, %d) }",a,a,l);break;case 2:i=genfun("function fillRect (x, y) { ctx.fillRect(x * %d, y * %d, %d, %d) }",a,l,a,l);break;default:throw new Error("pixels-canvas: cannot iterate in "+r+" dimensions")}return i.toFunction({ctx:e})}var genfun=require("generate-function"),colorStyles=require("pixel-to-css-color"),Ndpixels=require("ndpixels"),Tc=require("tcomb");module.exports=createPixelsToCanvasRenderer;var iteration=require("cwise/lib/wrapper")({args:["scalar","scalar","scalar","shape","index",{blockIndices:-1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_1_arg1_(_inline_1_arg5_[0],_inline_1_arg5_[1],_inline_1_arg5_[2],_inline_1_arg5_[3]),_inline_1_arg2_(_inline_1_arg4_[0],_inline_1_arg4_[1])}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg5_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"iteratePixels",blockSize:64});

},{"cwise/lib/wrapper":53,"generate-function":55,"ndpixels":56,"pixel-to-css-color":61,"tcomb":120}],50:[function(require,module,exports){
"use strict";function Procedure(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function compileCwise(r){var e=new Procedure;e.pre=r.pre,e.body=r.body,e.post=r.post;var s=r.args.slice(0);e.argTypes=s;for(var o=0;o<s.length;++o){var a=s[o];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[o]="array",e.arrayArgs.push(o),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===a){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+s[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>s.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>s.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>s.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!r.printCode||!!r.debug,e.funcName=r.funcName||"cwise",e.blockSize=r.blockSize||64,createThunk(e)}var createThunk=require("./lib/thunk.js");module.exports=compileCwise;

},{"./lib/thunk.js":52}],51:[function(require,module,exports){
"use strict";function innerFill(r,n,e){var s,a,o=r.length,i=n.arrayArgs.length,t=n.indexArgs.length>0,p=[],h=[],u=0,c=0;for(s=0;o>s;++s)h.push(["i",s,"=0"].join(""));for(a=0;i>a;++a)for(s=0;o>s;++s)c=u,u=r[s],0===s?h.push(["d",a,"s",s,"=t",a,"p",u].join("")):h.push(["d",a,"s",s,"=(t",a,"p",u,"-s",c,"*t",a,"p",c,")"].join(""));for(p.push("var "+h.join(",")),s=o-1;s>=0;--s)u=r[s],p.push(["for(i",s,"=0;i",s,"<s",u,";++i",s,"){"].join(""));for(p.push(e),s=0;o>s;++s){for(c=u,u=r[s],a=0;i>a;++a)p.push(["p",a,"+=d",a,"s",s].join(""));t&&(s>0&&p.push(["index[",c,"]-=s",c].join("")),p.push(["++index[",u,"]"].join(""))),p.push("}")}return p.join("\n")}function outerFill(r,n,e,s){for(var a=n.length,o=e.arrayArgs.length,i=e.blockSize,t=e.indexArgs.length>0,p=[],h=0;o>h;++h)p.push(["var offset",h,"=p",h].join(""));for(var h=r;a>h;++h)p.push(["for(var j"+h+"=SS[",n[h],"]|0;j",h,">0;){"].join("")),p.push(["if(j",h,"<",i,"){"].join("")),p.push(["s",n[h],"=j",h].join("")),p.push(["j",h,"=0"].join("")),p.push(["}else{s",n[h],"=",i].join("")),p.push(["j",h,"-=",i,"}"].join("")),t&&p.push(["index[",n[h],"]=j",h].join(""));for(var h=0;o>h;++h){for(var u=["offset"+h],c=r;a>c;++c)u.push(["j",c,"*t",h,"p",n[c]].join(""));p.push(["p",h,"=(",u.join("+"),")"].join(""))}p.push(innerFill(n,e,s));for(var h=r;a>h;++h)p.push("}");return p.join("\n")}function countMatches(r){for(var n=0,e=r[0].length;e>n;){for(var s=1;s<r.length;++s)if(r[s][n]!==r[0][n])return n;++n}return n}function processBlock(r,n,e){for(var s=r.body,a=[],o=[],i=0;i<r.args.length;++i){var t=r.args[i];if(!(t.count<=0)){var p=new RegExp(t.name,"g"),h="",u=n.arrayArgs.indexOf(i);switch(n.argTypes[i]){case"offset":var c=n.offsetArgIndex.indexOf(i),l=n.offsetArgs[c];u=l.array,h="+q"+c;case"array":h="p"+u+h;var f="l"+i,g="a"+u;if(0===n.arrayBlockIndices[u])1===t.count?"generic"===e[u]?t.lvalue?(a.push(["var ",f,"=",g,".get(",h,")"].join("")),s=s.replace(p,f),o.push([g,".set(",h,",",f,")"].join(""))):s=s.replace(p,[g,".get(",h,")"].join("")):s=s.replace(p,[g,"[",h,"]"].join("")):"generic"===e[u]?(a.push(["var ",f,"=",g,".get(",h,")"].join("")),s=s.replace(p,f),t.lvalue&&o.push([g,".set(",h,",",f,")"].join(""))):(a.push(["var ",f,"=",g,"[",h,"]"].join("")),s=s.replace(p,f),t.lvalue&&o.push([g,"[",h,"]=",f].join("")));else{for(var j=[t.name],v=[h],y=0;y<Math.abs(n.arrayBlockIndices[u]);y++)j.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(y+1)+"*t"+u+"b"+y);if(p=new RegExp(j.join(""),"g"),h=v.join("+"),"generic"===e[u])throw new Error("cwise: Generic arrays not supported in combination with blocks!");s=s.replace(p,[g,"[",h,"]"].join(""))}break;case"scalar":s=s.replace(p,"Y"+n.scalarArgs.indexOf(i));break;case"index":s=s.replace(p,"index");break;case"shape":s=s.replace(p,"shape")}}}return[a.join("\n"),s,o.join("\n")].join("\n").trim()}function typeSummary(r){for(var n=new Array(r.length),e=!0,s=0;s<r.length;++s){var a=r[s],o=a.match(/\d+/);o=o?o[0]:"",0===a.charAt(0)?n[s]="u"+a.charAt(1)+o:n[s]=a.charAt(0)+o,s>0&&(e=e&&n[s]===n[s-1])}return e?n[0]:n.join("")}function generateCWiseOp(r,n){for(var e=n[1].length-Math.abs(r.arrayBlockIndices[0])|0,s=new Array(r.arrayArgs.length),a=new Array(r.arrayArgs.length),o=0;o<r.arrayArgs.length;++o)a[o]=n[2*o],s[o]=n[2*o+1];for(var i=[],t=[],p=[],h=[],u=[],o=0;o<r.arrayArgs.length;++o){r.arrayBlockIndices[o]<0?(p.push(0),h.push(e),i.push(e),t.push(e+r.arrayBlockIndices[o])):(p.push(r.arrayBlockIndices[o]),h.push(r.arrayBlockIndices[o]+e),i.push(0),t.push(r.arrayBlockIndices[o]));for(var c=[],l=0;l<s[o].length;l++)p[o]<=s[o][l]&&s[o][l]<h[o]&&c.push(s[o][l]-p[o]);u.push(c)}for(var f=["SS"],g=["'use strict'"],j=[],l=0;e>l;++l)j.push(["s",l,"=SS[",l,"]"].join(""));for(var o=0;o<r.arrayArgs.length;++o){f.push("a"+o),f.push("t"+o),f.push("p"+o);for(var l=0;e>l;++l)j.push(["t",o,"p",l,"=t",o,"[",p[o]+l,"]"].join(""));for(var l=0;l<Math.abs(r.arrayBlockIndices[o]);++l)j.push(["t",o,"b",l,"=t",o,"[",i[o]+l,"]"].join(""))}for(var o=0;o<r.scalarArgs.length;++o)f.push("Y"+o);if(r.shapeArgs.length>0&&j.push("shape=SS.slice(0)"),r.indexArgs.length>0){for(var v=new Array(e),o=0;e>o;++o)v[o]="0";j.push(["index=[",v.join(","),"]"].join(""))}for(var o=0;o<r.offsetArgs.length;++o){for(var y=r.offsetArgs[o],d=[],l=0;l<y.offset.length;++l)0!==y.offset[l]&&(1===y.offset[l]?d.push(["t",y.array,"p",l].join("")):d.push([y.offset[l],"*t",y.array,"p",l].join("")));0===d.length?j.push("q"+o+"=0"):j.push(["q",o,"=",d.join("+")].join(""))}var A=uniq([].concat(r.pre.thisVars).concat(r.body.thisVars).concat(r.post.thisVars));j=j.concat(A),g.push("var "+j.join(","));for(var o=0;o<r.arrayArgs.length;++o)g.push("p"+o+"|=0");r.pre.body.length>3&&g.push(processBlock(r.pre,r,a));var k=processBlock(r.body,r,a),b=countMatches(u);e>b?g.push(outerFill(b,u[0],r,k)):g.push(innerFill(u[0],r,k)),r.post.body.length>3&&g.push(processBlock(r.post,r,a)),r.debug&&console.log("-----Generated cwise routine for ",n,":\n"+g.join("\n")+"\n----------");var x=[r.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",b,typeSummary(a)].join(""),w=new Function(["function ",x,"(",f.join(","),"){",g.join("\n"),"} return ",x].join(""));return w()}var uniq=require("uniq");module.exports=generateCWiseOp;

},{"uniq":168}],52:[function(require,module,exports){
"use strict";function createThunk(r){var a=["'use strict'","var CACHED={}"],e=[],s=r.funcName+"_cwise_thunk";a.push(["return function ",s,"(",r.shimArgs.join(","),"){"].join(""));for(var n=[],o=[],h=[["array",r.arrayArgs[0],".shape.slice(",Math.max(0,r.arrayBlockIndices[0]),r.arrayBlockIndices[0]<0?","+r.arrayBlockIndices[0]+")":")"].join("")],i=[],p=[],t=0;t<r.arrayArgs.length;++t){var c=r.arrayArgs[t];e.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),n.push("t"+c),n.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),h.push("array"+c+".data"),h.push("array"+c+".stride"),h.push("array"+c+".offset|0"),t>0&&(i.push("array"+r.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(r.arrayBlockIndices[0])-Math.abs(r.arrayBlockIndices[t]))),p.push("array"+r.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[t])+"]"))}r.arrayArgs.length>1&&(a.push("if (!("+i.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),a.push("for(var shapeIndex=array"+r.arrayArgs[0]+".shape.length-"+Math.abs(r.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),a.push("if (!("+p.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),a.push("}"));for(var t=0;t<r.scalarArgs.length;++t)h.push("scalar"+r.scalarArgs[t]);e.push(["type=[",o.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),a.push("var "+e.join(",")),a.push(["if(!proc){","CACHED[type]=proc=compile([",n.join(","),"])}","return proc(",h.join(","),")}"].join("")),r.debug&&console.log("-----Generated thunk:\n"+a.join("\n")+"\n----------");var u=new Function("compile",a.join("\n"));return u(compile.bind(void 0,r))}var compile=require("./compile.js");module.exports=createThunk;

},{"./compile.js":51}],53:[function(require,module,exports){
module.exports=require("cwise-compiler");

},{"cwise-compiler":50}],54:[function(require,module,exports){
function describeProperty(e){"function"==typeof e&&(e={value:e});var r={configurable:!0,enumerable:!1};return null==e.get&&null==e.set&&(r.writable=!0),objectAssign(r,e)}var objectAssign=require("object-assign");describeProperty.gs=function(e,r){var t={get:e};return"function"==typeof r&&(t.set=r),describeProperty(t)},module.exports=describeProperty;

},{"object-assign":58}],55:[function(require,module,exports){
var util=require("util"),INDENT_START=/[\{\[]/,INDENT_END=/[\}\]]/;module.exports=function(){var t=[],n=0,u=function(u){for(var r="";r.length<2*n;)r+="  ";t.push(r+u)},r=function(t){return t?INDENT_END.test(t.trim()[0])&&INDENT_START.test(t[t.length-1])?(n--,u(util.format.apply(util,arguments)),n++,r):INDENT_START.test(t[t.length-1])?(u(util.format.apply(util,arguments)),n++,r):INDENT_END.test(t.trim()[0])?(n--,u(util.format.apply(util,arguments)),r):(u(util.format.apply(util,arguments)),r):r};return r.toString=function(){return t.join("\n")},r.toFunction=function(t){var n="return ("+r.toString()+")",u=Object.keys(t||{}).map(function(t){return t}),l=u.map(function(n){return t[n]});return Function.apply(null,u.concat(n)).apply(null,l)},arguments.length&&r.apply(null,arguments),r};

},{"util":45}],56:[function(require,module,exports){
module.exports=require("./type");

},{"./type":57}],57:[function(require,module,exports){
var t=require("tcomb"),Ndarray=require("t-ndarray"),setDefaults=require("tcomb-defaults"),dp=require("describe-property"),Ndpixels=Ndarray.extend({format:t.String});Object.defineProperties(Ndpixels.prototype,{type:dp.gs(function(){return Ndpixels})}),module.exports=setDefaults(Ndpixels,Ndarray.defaults);

},{"describe-property":54,"t-ndarray":67,"tcomb":120,"tcomb-defaults":119}],58:[function(require,module,exports){
"use strict";function ToObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}module.exports=Object.assign||function(e,t){for(var n,r,c=ToObject(e),o=1;o<arguments.length;o++){n=arguments[o],r=Object.keys(Object(n));for(var l=0;l<r.length;l++)c[r[l]]=n[r[l]]}return c};

},{}],59:[function(require,module,exports){
var genfun=require("generate-function"),toCssColor=genfun()("function hslToCssColor (hue, saturation, lightness) {")('return "hsl(" + hue + ", " + saturation + "%, " + lightness + "%)"')("}").toFunction();module.exports=toCssColor;

},{"generate-function":55}],60:[function(require,module,exports){
var genfun=require("generate-function"),toCssColor=genfun()("function hslaToCssColor (hue, saturation, lightness, alpha) {")('return "hsla(" + hue + ", " + saturation + "%, " + lightness + "%, " + alpha + ")"')("}").toFunction();module.exports=toCssColor;

},{"generate-function":55}],61:[function(require,module,exports){
var genfun=require("generate-function"),keyword=require("./keyword"),rgb=require("./rgb"),rgba=require("./rgba"),hsl=require("./hsl"),hsla=require("./hsla"),pixelToCssColor=genfun()("function pixelToCssColor (pixel) {")("switch (pixel.format) {")('case "keyword":')("return keyword(pixel.get(0))")('case "rgb":')("return rgb(pixel.get(0), pixel.get(1), pixel.get(2))")('case "hsl":')("return hsl(pixel.get(0), pixel.get(1), pixel.get(2))")('case "rgba":')("return rgba(pixel.get(0), pixel.get(1), pixel.get(2), pixel.get(3))")('case "hsla":')("return hsla(pixel.get(0), pixel.get(1), pixel.get(2), pixel.get(3))")("default:")('throw new Error("pixel-to-css-color: pixel.format not supported! use keyword, rgb, rgba, hsl, or hsla.")')("}")("}").toFunction({keyword:keyword,rgb:rgb,rgba:rgba,hsl:hsl,hsla:hsla});module.exports=pixelToCssColor,module.exports.keyword=keyword,module.exports.rgb=rgb,module.exports.rgba=rgba,module.exports.hsl=hsl,module.exports.hsla=hsla;

},{"./hsl":59,"./hsla":60,"./keyword":62,"./rgb":63,"./rgba":64,"generate-function":55}],62:[function(require,module,exports){
var genfun=require("generate-function"),toCssColor=genfun()("function keywordToCssColor (keyword) {")("return keyword")("}").toFunction();module.exports=toCssColor;

},{"generate-function":55}],63:[function(require,module,exports){
var genfun=require("generate-function"),toCssColor=genfun()("function rgbToCssColor (red, green, blue) {")('return "rgb(" + ~~red + ", " + ~~green + ", " + ~~blue + ")"')("}").toFunction();module.exports=toCssColor;

},{"generate-function":55}],64:[function(require,module,exports){
var genfun=require("generate-function"),toCssColor=genfun()("function rgbaToCssColor (red, green, blue, alpha) {")('return "rgba(" + ~~red + ", " + ~~green + ", " + ~~blue + ", " + (alpha != null ? alpha : 1) + ")"')("}").toFunction();module.exports=toCssColor;

},{"generate-function":55}],65:[function(require,module,exports){
module.exports=function(r,t,e){var n=[],o=r.length;if(0===o)return n;var a=0>t?Math.max(0,t+o):t||0;for(void 0!==e&&(o=0>e?e+o:e);o-- >a;)n[o-a]=r[o];return n};

},{}],66:[function(require,module,exports){
(function (Buffer){
function getDtype(r){if(Buffer.isBuffer(r))return"buffer";if(hasTypedArrays)switch(Object.prototype.toString.call(r)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(r)?"array":"generic"}var hasTypedArrays="undefined"!=typeof Float64Array;module.exports=getDtype;

}).call(this,{"isBuffer":require("../../../../ahdinosaur/dinosaur.is/node_modules/is-buffer/index.js")})
},{"../../../../ahdinosaur/dinosaur.is/node_modules/is-buffer/index.js":4}],67:[function(require,module,exports){
module.exports=require("./type");

},{"./type":118}],68:[function(require,module,exports){
var t=require("./lib/assert");t.Any=require("./lib/Any"),t.Array=require("./lib/Array"),t.Boolean=require("./lib/Boolean"),t.Date=require("./lib/Date"),t.Error=require("./lib/Error"),t.Function=require("./lib/Function"),t.Nil=require("./lib/Nil"),t.Number=require("./lib/Number"),t.Integer=require("./lib/Integer"),t.Object=require("./lib/Object"),t.RegExp=require("./lib/RegExp"),t.String=require("./lib/String"),t.Type=require("./lib/Type"),t.Arr=t.Array,t.Bool=t.Boolean,t.Dat=t.Date,t.Err=t.Error,t.Func=t.Function,t.Num=t.Number,t.Obj=t.Object,t.Re=t.RegExp,t.Str=t.String,t.dict=require("./lib/dict"),t.declare=require("./lib/declare"),t.enums=require("./lib/enums"),t.irreducible=require("./lib/irreducible"),t.list=require("./lib/list"),t.maybe=require("./lib/maybe"),t.refinement=require("./lib/refinement"),t.struct=require("./lib/struct"),t.tuple=require("./lib/tuple"),t.union=require("./lib/union"),t.func=require("./lib/func"),t.intersection=require("./lib/intersection"),t.subtype=t.refinement,t.assert=t,t.update=require("./lib/update"),t.mixin=require("./lib/mixin"),t.isType=require("./lib/isType"),t.is=require("./lib/is"),t.getTypeName=require("./lib/getTypeName"),t.match=require("./lib/match"),module.exports=t;

},{"./lib/Any":69,"./lib/Array":70,"./lib/Boolean":71,"./lib/Date":72,"./lib/Error":73,"./lib/Function":74,"./lib/Integer":75,"./lib/Nil":76,"./lib/Number":77,"./lib/Object":78,"./lib/RegExp":79,"./lib/String":80,"./lib/Type":81,"./lib/assert":82,"./lib/declare":84,"./lib/dict":85,"./lib/enums":86,"./lib/func":89,"./lib/getTypeName":91,"./lib/intersection":92,"./lib/irreducible":93,"./lib/is":94,"./lib/isType":105,"./lib/list":108,"./lib/match":109,"./lib/maybe":110,"./lib/mixin":111,"./lib/refinement":112,"./lib/struct":114,"./lib/tuple":115,"./lib/union":116,"./lib/update":117}],69:[function(require,module,exports){
var irreducible=require("./irreducible");module.exports=irreducible("Any",function(){return!0});

},{"./irreducible":93}],70:[function(require,module,exports){
var irreducible=require("./irreducible"),isArray=require("./isArray");module.exports=irreducible("Array",isArray);

},{"./irreducible":93,"./isArray":95}],71:[function(require,module,exports){
var irreducible=require("./irreducible"),isBoolean=require("./isBoolean");module.exports=irreducible("Boolean",isBoolean);

},{"./irreducible":93,"./isBoolean":96}],72:[function(require,module,exports){
var irreducible=require("./irreducible");module.exports=irreducible("Date",function(e){return e instanceof Date});

},{"./irreducible":93}],73:[function(require,module,exports){
var irreducible=require("./irreducible");module.exports=irreducible("Error",function(r){return r instanceof Error});

},{"./irreducible":93}],74:[function(require,module,exports){
var irreducible=require("./irreducible"),isFunction=require("./isFunction");module.exports=irreducible("Function",isFunction);

},{"./irreducible":93,"./isFunction":97}],75:[function(require,module,exports){
var refinement=require("./refinement"),Number=require("./Number");module.exports=refinement(Number,function(e){return e%1===0},"Integer");

},{"./Number":77,"./refinement":112}],76:[function(require,module,exports){
var irreducible=require("./irreducible"),isNil=require("./isNil");module.exports=irreducible("Nil",isNil);

},{"./irreducible":93,"./isNil":100}],77:[function(require,module,exports){
var irreducible=require("./irreducible"),isNumber=require("./isNumber");module.exports=irreducible("Number",isNumber);

},{"./irreducible":93,"./isNumber":101}],78:[function(require,module,exports){
var irreducible=require("./irreducible"),isObject=require("./isObject");module.exports=irreducible("Object",isObject);

},{"./irreducible":93,"./isObject":102}],79:[function(require,module,exports){
var irreducible=require("./irreducible");module.exports=irreducible("RegExp",function(e){return e instanceof RegExp});

},{"./irreducible":93}],80:[function(require,module,exports){
var irreducible=require("./irreducible"),isString=require("./isString");module.exports=irreducible("String",isString);

},{"./irreducible":93,"./isString":103}],81:[function(require,module,exports){
var irreducible=require("./irreducible"),isType=require("./isType");module.exports=irreducible("Type",isType);

},{"./irreducible":93,"./isType":105}],82:[function(require,module,exports){
function assert(i,s){i!==!0&&(isFunction(s)?s=s():isNil(s)&&(s='Assert failed (turn on "Pause on exceptions" in your Source panel)'),assert.fail(s))}var isFunction=require("./isFunction"),isNil=require("./isNil"),fail=require("./fail"),stringify=require("./stringify");assert.fail=fail,assert.stringify=stringify,module.exports=assert;

},{"./fail":87,"./isFunction":97,"./isNil":100,"./stringify":113}],83:[function(require,module,exports){
(function (process){
var isType=require("./isType"),isStruct=require("./isStruct"),getFunctionName=require("./getFunctionName"),assert=require("./assert"),stringify=require("./stringify");module.exports=function(e,i,r){return isType(e)?isStruct(e)?new e(i,r):e(i,r):("production"!==process.env.NODE_ENV&&(r=r||[getFunctionName(e)],assert(i instanceof e,function(){return"Invalid value "+stringify(i)+" supplied to "+r.join("/")})),i)};

}).call(this,require('_process'))
},{"./assert":82,"./getFunctionName":90,"./isStruct":104,"./isType":105,"./stringify":113,"_process":8}],84:[function(require,module,exports){
(function (process){
var assert=require("./assert"),isTypeName=require("./isTypeName"),isType=require("./isType"),isNil=require("./isNil"),mixin=require("./mixin"),getTypeName=require("./getTypeName"),nextDeclareUniqueId=1;module.exports=function(e){function t(e,t){return"production"!==process.env.NODE_ENV&&assert(!isNil(n),function(){return"Type declared but not defined, don't forget to call .define on every declared type"}),n(e,t)}"production"!==process.env.NODE_ENV&&assert(isTypeName(e),function(){return"Invalid argument name "+e+" supplied to declare([name]) (expected a string)"});var n;return t.define=function(i){return"production"!==process.env.NODE_ENV&&(assert(isType(i),function(){return"Invalid argument type "+assert.stringify(i)+" supplied to define(type) (expected a type)"}),assert(isNil(n),function(){return"Declare.define(type) can only be invoked once"}),assert(isNil(i.meta.name)&&0===Object.keys(i.prototype).length,function(){return"Invalid argument type "+assert.stringify(i)+" supplied to define(type) (expected a fresh, unnamed type)"})),n=i,mixin(t,n,!0),e&&(n.displayName=t.displayName=e,t.meta.name=e),t.meta.identity=!1,t.prototype=n.prototype,t},t.displayName=e||getTypeName(t)+"$"+nextDeclareUniqueId++,t.meta={identity:!1},t.prototype=null,t};

}).call(this,require('_process'))
},{"./assert":82,"./getTypeName":91,"./isNil":100,"./isType":105,"./isTypeName":106,"./mixin":111,"_process":8}],85:[function(require,module,exports){
(function (process){
function getDefaultName(e,t){return"{[key: "+getTypeName(e)+"]: "+getTypeName(t)+"}"}function dict(e,t,i){function n(i,n){if("production"===process.env.NODE_ENV&&o)return i;"production"!==process.env.NODE_ENV&&(n=n||[r],assert(isObject(i),function(){return"Invalid value "+assert.stringify(i)+" supplied to "+n.join("/")}));var c=!0,u={};for(var d in i)if(i.hasOwnProperty(d)){d=create(e,d,"production"!==process.env.NODE_ENV?n.concat(a):null);var p=i[d],m=create(t,p,"production"!==process.env.NODE_ENV?n.concat(d+": "+s):null);c=c&&p===m,u[d]=m}return c&&(u=i),"production"!==process.env.NODE_ENV&&Object.freeze(u),u}"production"!==process.env.NODE_ENV&&(assert(isFunction(e),function(){return"Invalid argument domain "+assert.stringify(e)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),assert(isFunction(t),function(){return"Invalid argument codomain "+assert.stringify(t)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),assert(isTypeName(i),function(){return"Invalid argument name "+assert.stringify(i)+" supplied to dict(domain, codomain, [name]) combinator (expected a string)"}));var r=i||getDefaultName(e,t),a=getTypeName(e),s=getTypeName(t),o=isIdentity(e)&&isIdentity(t);return n.meta={kind:"dict",domain:e,codomain:t,name:i,identity:o},n.displayName=r,n.is=function(i){if(!isObject(i))return!1;for(var n in i)if(i.hasOwnProperty(n)&&(!is(n,e)||!is(i[n],t)))return!1;return!0},n.update=function(e,t){return n(assert.update(e,t))},n}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isObject=require("./isObject"),create=require("./create"),is=require("./is");dict.getDefaultName=getDefaultName,module.exports=dict;

}).call(this,require('_process'))
},{"./assert":82,"./create":83,"./getTypeName":91,"./is":94,"./isFunction":97,"./isIdentity":98,"./isObject":102,"./isTypeName":106,"_process":8}],86:[function(require,module,exports){
(function (process){
function getDefaultName(e){return Object.keys(e).map(function(e){return assert.stringify(e)}).join(" | ")}function enums(e,t){function r(t,i){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,r),i=i||[n],assert(r.is(t),function(){return"Invalid value "+assert.stringify(t)+" supplied to "+i.join("/")+" (expected one of "+assert.stringify(Object.keys(e))+")"})),t}"production"!==process.env.NODE_ENV&&(assert(isObject(e),function(){return"Invalid argument map "+assert.stringify(e)+" supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to enums(map, [name]) combinator (expected a string)"}));var n=t||getDefaultName(e);return r.meta={kind:"enums",map:e,name:t,identity:!0},r.displayName=n,r.is=function(t){return e.hasOwnProperty(t)},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),forbidNewOperator=require("./forbidNewOperator"),isString=require("./isString"),isObject=require("./isObject");enums.of=function(e,t){e=isString(e)?e.split(" "):e;var r={};return e.forEach(function(e){r[e]=e}),enums(r,t)},enums.getDefaultName=getDefaultName,module.exports=enums;

}).call(this,require('_process'))
},{"./assert":82,"./forbidNewOperator":88,"./isObject":102,"./isString":103,"./isTypeName":106,"_process":8}],87:[function(require,module,exports){
module.exports=function(o){throw new TypeError("[tcomb] "+o)};

},{}],88:[function(require,module,exports){
var assert=require("./assert"),getTypeName=require("./getTypeName");module.exports=function(e,t){assert(!(e instanceof t),function(){return"Cannot use the new operator to instantiate the type "+getTypeName(t)})};

},{"./assert":82,"./getTypeName":91}],89:[function(require,module,exports){
(function (process){
function getDefaultName(e,n){return"("+e.map(getTypeName).join(", ")+") => "+getTypeName(n)}function isInstrumented(e){return FunctionType.is(e)&&isObject(e.instrumentation)}function func(e,n,t){function i(e,n){return isInstrumented(e)?("production"!==process.env.NODE_ENV&&assert(i.is(e),function(){return"Invalid value "+assert.stringify(e)+" supplied to "+r}),e):i.of(e,n)}e=isArray(e)?e:[e],"production"!==process.env.NODE_ENV&&(assert(list(FunctionType).is(e),function(){return"Invalid argument domain "+assert.stringify(e)+" supplied to func(domain, codomain, [name]) combinator (expected an array of types)"}),assert(FunctionType.is(n),function(){return"Invalid argument codomain "+assert.stringify(n)+" supplied to func(domain, codomain, [name]) combinator (expected a type)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to func(domain, codomain, [name]) combinator (expected a string)"}));var r=t||getDefaultName(e,n);return i.meta={kind:"func",domain:e,codomain:n,name:t,identity:!0},i.displayName=r,i.is=function(t){return isInstrumented(t)&&t.instrumentation.domain.length===e.length&&t.instrumentation.domain.every(function(n,t){return n===e[t]})&&t.instrumentation.codomain===n},i.of=function(t,a){function o(){var i=Array.prototype.slice.call(arguments),r=a?i.length:e.length,o=tuple(e.slice(0,r));if(i=o(i),r===e.length)return create(n,t.apply(this,i));var u=Function.prototype.bind.apply(t,[this].concat(i)),s=func(e.slice(r),n);return s.of(u,a)}return"production"!==process.env.NODE_ENV&&(assert(FunctionType.is(t),function(){return"Invalid argument f supplied to func.of "+r+" (expected a function)"}),assert(isNil(a)||isBoolean(a),function(){return"Invalid argument curried "+assert.stringify(a)+" supplied to func.of "+r+" (expected a boolean)"})),i.is(t)?t:(o.instrumentation={domain:e,codomain:n,f:t},o.displayName=getFunctionName(t),o)},i}var assert=require("./assert"),isTypeName=require("./isTypeName"),FunctionType=require("./Function"),isArray=require("./isArray"),list=require("./list"),isObject=require("./isObject"),create=require("./create"),isNil=require("./isNil"),isBoolean=require("./isBoolean"),tuple=require("./tuple"),getFunctionName=require("./getFunctionName"),getTypeName=require("./getTypeName");func.getDefaultName=getDefaultName,module.exports=func;

}).call(this,require('_process'))
},{"./Function":74,"./assert":82,"./create":83,"./getFunctionName":90,"./getTypeName":91,"./isArray":95,"./isBoolean":96,"./isNil":100,"./isObject":102,"./isTypeName":106,"./list":108,"./tuple":115,"_process":8}],90:[function(require,module,exports){
module.exports=function(n){return n.displayName||n.name||"<function"+n.length+">"};

},{}],91:[function(require,module,exports){
var isType=require("./isType"),getFunctionName=require("./getFunctionName");module.exports=function(e){return isType(e)?e.displayName:getFunctionName(e)};

},{"./getFunctionName":90,"./isType":105}],92:[function(require,module,exports){
(function (process){
function getDefaultName(e){return e.map(getTypeName).join(" & ")}function intersection(e,t){function r(e,t){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,r),t=t||[i],assert(r.is(e),function(){return"Invalid value "+assert.stringify(e)+" supplied to "+t.join("/")})),e}"production"!==process.env.NODE_ENV&&(assert(isArray(e)&&e.every(isFunction)&&e.length>=2,function(){return"Invalid argument types "+assert.stringify(e)+" supplied to intersection(types, [name]) combinator (expected an array of at least 2 types)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to intersection(types, [name]) combinator (expected a string)"}));var i=t||getDefaultName(e);return r.meta={kind:"intersection",types:e,name:t,identity:!0},r.displayName=i,r.is=function(t){return e.every(function(e){return is(t,e)})},r.update=function(e,t){return r(assert.update(e,t))},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),isArray=require("./isArray"),forbidNewOperator=require("./isIdentity"),is=require("./is"),getTypeName=require("./getTypeName");intersection.getDefaultName=getDefaultName,module.exports=intersection;

}).call(this,require('_process'))
},{"./assert":82,"./getTypeName":91,"./is":94,"./isArray":95,"./isFunction":97,"./isIdentity":98,"./isTypeName":106,"_process":8}],93:[function(require,module,exports){
(function (process){
var assert=require("./assert"),isString=require("./isString"),isFunction=require("./isFunction"),forbidNewOperator=require("./forbidNewOperator");module.exports=function(e,r){function i(t,n){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,i),n=n||[e],assert(r(t),function(){return"Invalid value "+assert.stringify(t)+" supplied to "+n.join("/")})),t}return"production"!==process.env.NODE_ENV&&(assert(isString(e),function(){return"Invalid argument name "+assert.stringify(e)+" supplied to irreducible(name, predicate) (expected a string)"}),assert(isFunction(r),"Invalid argument predicate "+assert.stringify(r)+" supplied to irreducible(name, predicate) (expected a function)")),i.meta={kind:"irreducible",name:e,predicate:r,identity:!0},i.displayName=e,i.is=r,i};

}).call(this,require('_process'))
},{"./assert":82,"./forbidNewOperator":88,"./isFunction":97,"./isString":103,"_process":8}],94:[function(require,module,exports){
var isType=require("./isType");module.exports=function(e,i){return isType(i)?i.is(e):e instanceof i};

},{"./isType":105}],95:[function(require,module,exports){
module.exports=function(n){return n instanceof Array};

},{}],96:[function(require,module,exports){
module.exports=function(e){return e===!0||e===!1};

},{}],97:[function(require,module,exports){
module.exports=function(n){return"function"==typeof n};

},{}],98:[function(require,module,exports){
(function (process){
var assert=require("./assert"),Boolean=require("./Boolean"),isType=require("./isType"),getTypeName=require("./getTypeName");module.exports=function(e){return isType(e)?("production"!==process.env.NODE_ENV&&assert(Boolean.is(e.meta.identity),function(){return"Invalid meta identity "+assert.stringify(e.meta.identity)+" supplied to type "+getTypeName(e)}),e.meta.identity):!0};

}).call(this,require('_process'))
},{"./Boolean":71,"./assert":82,"./getTypeName":91,"./isType":105,"_process":8}],99:[function(require,module,exports){
var isType=require("./isType");module.exports=function(e){return isType(e)&&"maybe"===e.meta.kind};

},{"./isType":105}],100:[function(require,module,exports){
module.exports=function(n){return null===n||void 0===n};

},{}],101:[function(require,module,exports){
module.exports=function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)};

},{}],102:[function(require,module,exports){
var isNil=require("./isNil"),isArray=require("./isArray");module.exports=function(r){return!isNil(r)&&"object"==typeof r&&!isArray(r)};

},{"./isArray":95,"./isNil":100}],103:[function(require,module,exports){
module.exports=function(t){return"string"==typeof t};

},{}],104:[function(require,module,exports){
var isType=require("./isType");module.exports=function(e){return isType(e)&&"struct"===e.meta.kind};

},{"./isType":105}],105:[function(require,module,exports){
var isFunction=require("./isFunction"),isObject=require("./isObject");module.exports=function(i){return isFunction(i)&&isObject(i.meta)};

},{"./isFunction":97,"./isObject":102}],106:[function(require,module,exports){
var isNil=require("./isNil"),isString=require("./isString");module.exports=function(i){return isNil(i)||isString(i)};

},{"./isNil":100,"./isString":103}],107:[function(require,module,exports){
var isType=require("./isType");module.exports=function(e){return isType(e)&&"union"===e.meta.kind};

},{"./isType":105}],108:[function(require,module,exports){
(function (process){
function getDefaultName(e){return"Array<"+getTypeName(e)+">"}function list(e,t){function r(t,r){if("production"===process.env.NODE_ENV&&s)return t;"production"!==process.env.NODE_ENV&&(r=r||[i],assert(isArray(t),function(){return"Invalid value "+assert.stringify(t)+" supplied to "+r.join("/")+" (expected an array of "+n+")"}));for(var a=!0,u=[],o=0,p=t.length;p>o;o++){var c=t[o],y=create(e,c,"production"!==process.env.NODE_ENV?r.concat(o+": "+n):null);a=a&&c===y,u.push(y)}return a&&(u=t),"production"!==process.env.NODE_ENV&&Object.freeze(u),u}"production"!==process.env.NODE_ENV&&(assert(isFunction(e),function(){return"Invalid argument type "+assert.stringify(e)+" supplied to list(type, [name]) combinator (expected a type)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to list(type, [name]) combinator (expected a string)"}));var i=t||getDefaultName(e),n=getTypeName(e),s=isIdentity(e);return r.meta={kind:"list",type:e,name:t,identity:s},r.displayName=i,r.is=function(t){return isArray(t)&&t.every(function(t){return is(t,e)})},r.update=function(e,t){return r(assert.update(e,t))},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),create=require("./create"),is=require("./is"),isArray=require("./isArray");list.getDefaultName=getDefaultName,module.exports=list;

}).call(this,require('_process'))
},{"./assert":82,"./create":83,"./getTypeName":91,"./is":94,"./isArray":95,"./isFunction":97,"./isIdentity":98,"./isTypeName":106,"_process":8}],109:[function(require,module,exports){
(function (process){
var assert=require("./assert"),isFunction=require("./isFunction"),isType=require("./isType"),Any=require("./Any");module.exports=function(n){for(var i,e,r,s,t=1,u=arguments.length;u>t;)if(i=arguments[t],e=arguments[t+1],r=arguments[t+2],isFunction(r)&&!isType(r)?t+=3:(r=e,e=Any.is,t+=2),"production"!==process.env.NODE_ENV&&(s=(s||0)+1,assert(isType(i),function(){return"Invalid type in clause #"+s}),assert(isFunction(e),function(){return"Invalid guard in clause #"+s}),assert(isFunction(r),function(){return"Invalid block in clause #"+s})),i.is(n)&&e(n))return r(n);assert.fail("Match error")};

}).call(this,require('_process'))
},{"./Any":69,"./assert":82,"./isFunction":97,"./isType":105,"_process":8}],110:[function(require,module,exports){
(function (process){
function getDefaultName(e){return"?"+getTypeName(e)}function maybe(e,i){function r(i,t){return"production"!==process.env.NODE_ENV&&forbidNewOperator(this,r),Nil.is(i)?i:create(e,i,t)}if(isMaybe(e)||e===Any||e===Nil)return e;"production"!==process.env.NODE_ENV&&(assert(isFunction(e),function(){return"Invalid argument type "+assert.stringify(e)+" supplied to maybe(type, [name]) combinator (expected a type)"}),assert(isTypeName(i),function(){return"Invalid argument name "+assert.stringify(i)+" supplied to maybe(type, [name]) combinator (expected a string)"}));var t=i||getDefaultName(e);return r.meta={kind:"maybe",type:e,name:i,identity:isIdentity(e)},r.displayName=t,r.is=function(i){return Nil.is(i)||is(i,e)},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),isMaybe=require("./isMaybe"),isIdentity=require("./isIdentity"),Any=require("./Any"),create=require("./create"),Nil=require("./Nil"),forbidNewOperator=require("./forbidNewOperator"),is=require("./is"),getTypeName=require("./getTypeName");maybe.getDefaultName=getDefaultName,module.exports=maybe;

}).call(this,require('_process'))
},{"./Any":69,"./Nil":76,"./assert":82,"./create":83,"./forbidNewOperator":88,"./getTypeName":91,"./is":94,"./isFunction":97,"./isIdentity":98,"./isMaybe":99,"./isTypeName":106,"_process":8}],111:[function(require,module,exports){
(function (process){
var isNil=require("./isNil"),assert=require("./assert");module.exports=function(r,e,t){if(isNil(e))return r;for(var i in e)e.hasOwnProperty(i)&&(t!==!0&&"production"!==process.env.NODE_ENV&&assert(!r.hasOwnProperty(i),function(){return'Invalid call to mixin(target, source, [overwrite]): cannot overwrite property "'+i+'" of target object'}),r[i]=e[i]);return r};

}).call(this,require('_process'))
},{"./assert":82,"./isNil":100,"_process":8}],112:[function(require,module,exports){
(function (process){
function getDefaultName(e,t){return"{"+getTypeName(e)+" | "+getFunctionName(t)+"}"}function refinement(e,t,r){function n(r,a){"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,n),a=a||[i]);var u=create(e,r,a);return"production"!==process.env.NODE_ENV&&assert(t(u),function(){return"Invalid value "+assert.stringify(r)+" supplied to "+a.join("/")}),u}"production"!==process.env.NODE_ENV&&(assert(isFunction(e),function(){return"Invalid argument type "+assert.stringify(e)+" supplied to refinement(type, predicate, [name]) combinator (expected a type)"}),assert(isFunction(t),function(){return"Invalid argument predicate supplied to refinement(type, predicate, [name]) combinator (expected a function)"}),assert(isTypeName(r),function(){return"Invalid argument name "+assert.stringify(r)+" supplied to refinement(type, predicate, [name]) combinator (expected a string)"}));var i=r||getDefaultName(e,t),a=isIdentity(e);return n.meta={kind:"subtype",type:e,predicate:t,name:r,identity:a},n.displayName=i,n.is=function(r){return is(r,e)&&t(r)},n.update=function(e,t){return n(assert.update(e,t))},n}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),forbidNewOperator=require("./forbidNewOperator"),isIdentity=require("./isIdentity"),create=require("./create"),is=require("./is"),getTypeName=require("./getTypeName"),getFunctionName=require("./getFunctionName");refinement.getDefaultName=getDefaultName,module.exports=refinement;

}).call(this,require('_process'))
},{"./assert":82,"./create":83,"./forbidNewOperator":88,"./getFunctionName":90,"./getTypeName":91,"./is":94,"./isFunction":97,"./isIdentity":98,"./isTypeName":106,"_process":8}],113:[function(require,module,exports){
module.exports=function(r){try{return JSON.stringify(r,null,2)}catch(t){return String(r)}};

},{}],114:[function(require,module,exports){
(function (process){
function getDefaultName(e){return"{"+Object.keys(e).map(function(t){return t+": "+getTypeName(e[t])}).join(", ")+"}"}function mixPrototypes(e,t){Object.getOwnPropertyNames(t).forEach(function(r){if("constructor"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n)}})}function extend(e,t){"production"!==process.env.NODE_ENV&&assert(isArray(e)&&e.every(function(e){return isObject(e)||isStruct(e)}),function(){return"Invalid argument mixins supplied to extend(mixins, name), expected an array of objects or structs"});var r={},n=Object.create(null);e.forEach(function(e){isObject(e)?mixin(r,e):(mixin(r,e.meta.props),mixPrototypes(n,e.prototype))});var i=struct(r,t);return mixPrototypes(i.prototype,n),i}function struct(e,t){function r(t,i){if(r.is(t))return t;if("production"!==process.env.NODE_ENV&&(i=i||[n],assert(isObject(t),function(){return"Invalid value "+assert.stringify(t)+" supplied to "+i.join("/")+" (expected an object)"})),!(this instanceof r))return new r(t,i);for(var s in e)if(e.hasOwnProperty(s)){var o=e[s],c=t[s];this[s]=create(o,c,"production"!==process.env.NODE_ENV?i.concat(s+": "+getTypeName(o)):null)}"production"!==process.env.NODE_ENV&&Object.freeze(this)}"production"!==process.env.NODE_ENV&&(assert(dict(String,Function).is(e),function(){return"Invalid argument props "+assert.stringify(e)+" supplied to struct(props, [name]) combinator (expected a dictionary String -> Type)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to struct(props, [name]) combinator (expected a string)"}));var n=t||getDefaultName(e);return r.meta={kind:"struct",props:e,name:t,identity:!1},r.displayName=n,r.is=function(e){return e instanceof r},r.update=function(e,t){return new r(assert.update(e,t))},r.extend=function(e,t){return extend([r].concat(e),t)},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),String=require("./String"),Function=require("./Function"),isArray=require("./isArray"),isObject=require("./isObject"),create=require("./create"),mixin=require("./mixin"),isStruct=require("./isStruct"),getTypeName=require("./getTypeName"),dict=require("./dict");struct.getDefaultName=getDefaultName,struct.extend=extend,module.exports=struct;

}).call(this,require('_process'))
},{"./Function":74,"./String":80,"./assert":82,"./create":83,"./dict":85,"./getTypeName":91,"./isArray":95,"./isObject":102,"./isStruct":104,"./isTypeName":106,"./mixin":111,"_process":8}],115:[function(require,module,exports){
(function (process){
function getDefaultName(e){return"["+e.map(getTypeName).join(", ")+"]"}function tuple(e,t){function r(t,r){if("production"===process.env.NODE_ENV&&i)return t;"production"!==process.env.NODE_ENV&&(r=r||[n],assert(isArray(t)&&t.length===e.length,function(){return"Invalid value "+assert.stringify(t)+" supplied to "+r.join("/")+" (expected an array of length "+e.length+")"}));for(var a=!0,s=[],u=0,p=e.length;p>u;u++){var o=e[u],c=t[u],y=create(o,c,"production"!==process.env.NODE_ENV?r.concat(u+": "+getTypeName(o)):null);a=a&&c===y,s.push(y)}return a&&(s=t),"production"!==process.env.NODE_ENV&&Object.freeze(s),s}"production"!==process.env.NODE_ENV&&(assert(isArray(e)&&e.every(isFunction),function(){return"Invalid argument types "+assert.stringify(e)+" supplied to tuple(types, [name]) combinator (expected an array of types)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to tuple(types, [name]) combinator (expected a string)"}));var n=t||getDefaultName(e),i=e.every(isIdentity);return r.meta={kind:"tuple",types:e,name:t,identity:i},r.displayName=n,r.is=function(t){return isArray(t)&&t.length===e.length&&e.every(function(e,r){return is(t[r],e)})},r.update=function(e,t){return r(assert.update(e,t))},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isArray=require("./isArray"),create=require("./create"),is=require("./is");tuple.getDefaultName=getDefaultName,module.exports=tuple;

}).call(this,require('_process'))
},{"./assert":82,"./create":83,"./getTypeName":91,"./is":94,"./isArray":95,"./isFunction":97,"./isIdentity":98,"./isTypeName":106,"_process":8}],116:[function(require,module,exports){
(function (process){
function getDefaultName(e){return e.map(getTypeName).join(" | ")}function union(e,r){function i(e,r){if("production"===process.env.NODE_ENV&&n)return e;var s=i.dispatch(e);return!s&&i.is(e)?e:("production"!==process.env.NODE_ENV&&(forbidNewOperator(this,i),r=r||[t],assert(isType(s),function(){return"Invalid value "+assert.stringify(e)+" supplied to "+r.join("/")+" (no constructor returned by dispatch)"}),r[r.length-1]+="("+getTypeName(s)+")"),create(s,e,r))}"production"!==process.env.NODE_ENV&&(assert(isArray(e)&&e.every(isFunction)&&e.length>=2,function(){return"Invalid argument types "+assert.stringify(e)+" supplied to union(types, [name]) combinator (expected an array of at least 2 types)"}),assert(isTypeName(r),function(){return"Invalid argument name "+assert.stringify(r)+" supplied to union(types, [name]) combinator (expected a string)"}));var t=r||getDefaultName(e),n=e.every(isIdentity);return i.meta={kind:"union",types:e,name:r,identity:n},i.displayName=t,i.is=function(r){return e.some(function(e){return is(r,e)})},i.dispatch=function(r){for(var i=0,t=e.length;t>i;i++){var n=e[i];if(isUnion(n)){var s=n.dispatch(r);if(!isNil(s))return s}else if(is(r,n))return n}},i.update=function(e,r){return i(assert.update(e,r))},i}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isArray=require("./isArray"),create=require("./create"),is=require("./is"),forbidNewOperator=require("./forbidNewOperator"),isType=require("./isType"),isUnion=require("./isUnion"),isNil=require("./isNil");union.getDefaultName=getDefaultName,module.exports=union;

}).call(this,require('_process'))
},{"./assert":82,"./create":83,"./forbidNewOperator":88,"./getTypeName":91,"./is":94,"./isArray":95,"./isFunction":97,"./isIdentity":98,"./isNil":100,"./isType":105,"./isTypeName":106,"./isUnion":107,"_process":8}],117:[function(require,module,exports){
(function (process){
function getShallowCopy(e){return isArray(e)?e.concat():e instanceof Date||e instanceof RegExp?e:isObject(e)?mixin({},e):e}function update(e,t){"production"!==process.env.NODE_ENV&&assert(isObject(t),function(){return"Invalid argument patch "+assert.stringify(t)+" supplied to function update(instance, patch): expected an object containing commands"});var r=getShallowCopy(e),i=!1;for(var a in t)if(t.hasOwnProperty(a))if(update.commands.hasOwnProperty(a))r=update.commands[a](t[a],r),i=!0;else{var n=update(r[a],t[a]);i=i||n!==r[a],r[a]=n}return i?r:e}function $apply(e,t){return"production"!==process.env.NODE_ENV&&assert(isFunction(e),"Invalid argument f supplied to immutability helper { $apply: f } (expected a function)"),e(t)}function $push(e,t){return"production"!==process.env.NODE_ENV&&(assert(isArray(e),"Invalid argument elements supplied to immutability helper { $push: elements } (expected an array)"),assert(isArray(t),"Invalid value supplied to immutability helper $push (expected an array)")),t.concat(e)}function $remove(e,t){"production"!==process.env.NODE_ENV&&(assert(isArray(e),"Invalid argument keys supplied to immutability helper { $remove: keys } (expected an array)"),assert(isObject(t),"Invalid value supplied to immutability helper $remove (expected an object)"));for(var r=0,i=e.length;i>r;r++)delete t[e[r]];return t}function $set(e){return e}function $splice(e,t){return"production"!==process.env.NODE_ENV&&(assert(isArray(e)&&e.every(isArray),"Invalid argument splices supplied to immutability helper { $splice: splices } (expected an array of arrays)"),assert(isArray(t),"Invalid value supplied to immutability helper $splice (expected an array)")),e.reduce(function(e,t){return e.splice.apply(e,t),e},t)}function $swap(e,t){"production"!==process.env.NODE_ENV&&(assert(isObject(e),"Invalid argument config supplied to immutability helper { $swap: config } (expected an object)"),assert(isNumber(e.from),"Invalid argument config.from supplied to immutability helper { $swap: config } (expected a number)"),assert(isNumber(e.to),"Invalid argument config.to supplied to immutability helper { $swap: config } (expected a number)"),assert(isArray(t),"Invalid value supplied to immutability helper $swap (expected an array)"));var r=t[e.to];return t[e.to]=t[e.from],t[e.from]=r,t}function $unshift(e,t){return"production"!==process.env.NODE_ENV&&(assert(isArray(e),"Invalid argument elements supplied to immutability helper {$unshift: elements} (expected an array)"),assert(isArray(t),"Invalid value supplied to immutability helper $unshift (expected an array)")),e.concat(t)}function $merge(e,t){return mixin(mixin({},t),e,!0)}var assert=require("./assert"),isObject=require("./isObject"),isFunction=require("./isFunction"),isArray=require("./isArray"),isNumber=require("./isNumber"),mixin=require("./mixin");update.commands={$apply:$apply,$push:$push,$remove:$remove,$set:$set,$splice:$splice,$swap:$swap,$unshift:$unshift,$merge:$merge},module.exports=update;

}).call(this,require('_process'))
},{"./assert":82,"./isArray":95,"./isFunction":97,"./isNumber":101,"./isObject":102,"./mixin":111,"_process":8}],118:[function(require,module,exports){
"use strict";function defaultShape(){return[this.data.length]}function defaultStride(){for(var t=this.shape,e=t.length,i=new Array(e),r=e-1,s=1;r>=0;--r)i[r]=s,s*=t[r];return i}function defaultOffset(){for(var t=this.shape,e=this.stride,i=0,r=0;r<t.length;++r)e[r]<0&&(i-=(t[r]-1)*e[r]);return i}function sliceArgs(t,e,i){var r=slice(t,e,i);if(i-e>r.length){var s=r.length;r.length=i,r.fill(null,s,i)}return r}function add(t,e){return t+e}function mult(t,e){return t*e}function compare1st(t,e){return t[0]-e[0]}var Tc=require("tcomb"),setDefaults=require("tcomb-defaults"),getDtype=require("./dtype"),slice=require("sliced"),dp=require("describe-property"),TrivialNdarray=Tc.struct({data:Tc.Any},"TrivialNdarray");Object.defineProperties(TrivialNdarray.prototype,{type:dp.gs(function(){return TrivialNdarray}),dtype:dp.gs(function(){return getDtype(this.data)}),dimension:dp.gs(function(){return-1}),size:dp.gs(function(){return 0}),shape:dp(function(){return[]}),stride:dp(function(){return[]}),order:dp(function(){return[]}),index:dp(function(){return-1}),lo:dp(function(){return TrivialNdarray({data:this.data})}),hi:dp(function(){return TrivialNdarray({data:this.data})}),transpose:dp(function(){return TrivialNdarray({data:this.data})}),step:dp(function(){return TrivialNdarray({data:this.data})}),get:dp(function(){}),set:dp(function(){}),pick:dp(function(){return null})});var Ndarray=TrivialNdarray.extend({shape:Tc.maybe(Tc.list(Tc.Number)),stride:Tc.maybe(Tc.list(Tc.Number)),offset:Tc.maybe(Tc.Number)},"Ndarray"),defaults={shape:defaultShape,stride:defaultStride,offset:defaultOffset};Object.defineProperties(Ndarray.prototype,{type:dp.gs(function(){return Ndarray}),size:dp.gs(function(){for(var t=1,e=0;e<this.shape.length;++e)t*=this.shape[e];return t}),dimension:dp.gs(function(){return this.shape.length}),order:dp.gs(function(){for(var t=this.stride,e=new Array(t.length),i=0;i<e.length;++i)e[i]=[Math.abs(t[i]),i];e.sort(compare1st);var r=new Array(e.length);for(i=0;i<r.length;++i)r[i]=e[i][1];return r}),get:dp(function(){var t=this.index.apply(this,arguments);return"generic"===this.dtype?this.data.get(t):this.data[t]}),valueOf:dp(function(){return 0===this.dimension?this.get():void 0}),set:dp(function(){var t=this.index.apply(this,arguments),e=arguments[this.dimension];return"generic"===this.dtype?this.data.set(t,e):this.data[t]=e}),index:dp(function(){for(var t=this.offset,e=0;e<this.dimension;++e)t+=arguments[e]*this.stride[e];return t}),hi:dp(function(){for(var t=sliceArgs(arguments,0,this.dimension),e=new Array(this.shape.length),i=0;i<this.shape.length;++i){var r=this.shape[i],s=t[i];e[i]=Tc.Number.is(s)&&s>=0?s:r}return this.type.update(this,{shape:{$set:e}})}),lo:dp(function(){for(var t=sliceArgs(arguments,0,this.dimension),e=this.shape.slice(),i=this.offset,r=0;r<t.length;++r){var s=t[r];Tc.Number.is(s)&&s>=0&&(i+=this.stride[r]*s,e[r]-=s)}return this.type.update(this,{shape:{$set:e},offset:{$set:i}})}),step:dp(function(){var t=sliceArgs(arguments,0,this.dimension),e=this.shape.slice(),i=this.stride.slice(),r=this.offset;return t.forEach(function(t,s){Tc.Number.is(t)&&(0>t?(r+=i[s]*(e-1),e[s]=Math.ceil(-e[s]/t)):e[s]=Math.ceil(e[s]/t),i[s]*=t)},this),this.type.update(this,{shape:{$set:e},stride:{$set:i},offset:{$set:r}})}),transpose:dp(function(){var t=sliceArgs(arguments,0,this.dimension),e=this.shape.slice(),i=this.stride.slice(),r=this.offset;return t.forEach(function(t,r){Tc.Nil.is(t)&&(t=r),e[r]=this.shape[t],i[r]=this.stride[t]},this),this.type.update(this,{shape:{$set:e},stride:{$set:i},offset:{$set:r}})}),pick:dp(function(){if(0===this.dimension)return TrivialNdarray({data:this.data});var t=sliceArgs(arguments,0,this.dimension),e=[],i=[],r=this.offset;return t.forEach(function(t,s){Tc.Number.is(t)&&t>=0?r+=this.stride[s]*t:(e.push(this.shape[s]),i.push(this.stride[s]))},this),this.type.update(this,{shape:{$set:e},stride:{$set:i},offset:{$set:r}})})}),module.exports=setDefaults(Ndarray,defaults);

},{"./dtype":66,"describe-property":54,"sliced":65,"tcomb":68,"tcomb-defaults":119}],119:[function(require,module,exports){
function defaults(t,e){var r=Tc.func(t,t).of(setDefaults(t,e));return Tc.mixin(r,t,!0),r.defaults=e,r.prototype=Object.create(t.prototype),r}function setDefaults(t,e){return function(r){return Object.keys(r).reduce(function(r,u){var c=e[u];if(Tc.Nil.is(r[u])&&!Tc.Nil.is(c)){var n=Tc.Function.is(c)?c.call(r):c,i={};return i[u]={$set:n},t.update(r,i)}return r},r)}}var Tc=require("tcomb");module.exports=defaults;

},{"tcomb":120}],120:[function(require,module,exports){
var t=require("./lib/assert");t.Any=require("./lib/Any"),t.Array=require("./lib/Array"),t.Boolean=require("./lib/Boolean"),t.Date=require("./lib/Date"),t.Error=require("./lib/Error"),t.Function=require("./lib/Function"),t.Nil=require("./lib/Nil"),t.Number=require("./lib/Number"),t.Object=require("./lib/Object"),t.RegExp=require("./lib/RegExp"),t.String=require("./lib/String"),t.Arr=t.Array,t.Bool=t.Boolean,t.Dat=t.Date,t.Err=t.Error,t.Func=t.Function,t.Num=t.Number,t.Obj=t.Object,t.Re=t.RegExp,t.Str=t.String,t.dict=require("./lib/dict"),t.declare=require("./lib/declare"),t.enums=require("./lib/enums"),t.irreducible=require("./lib/irreducible"),t.list=require("./lib/list"),t.maybe=require("./lib/maybe"),t.refinement=require("./lib/refinement"),t.struct=require("./lib/struct"),t.tuple=require("./lib/tuple"),t.union=require("./lib/union"),t.func=require("./lib/func"),t.intersection=require("./lib/intersection"),t.subtype=t.refinement,t.assert=t,t.update=require("./lib/update"),t.mixin=require("./lib/mixin"),t.isType=require("./lib/isType"),t.is=require("./lib/is"),t.getTypeName=require("./lib/getTypeName"),t.match=require("./lib/match"),module.exports=t;

},{"./lib/Any":121,"./lib/Array":122,"./lib/Boolean":123,"./lib/Date":124,"./lib/Error":125,"./lib/Function":126,"./lib/Nil":127,"./lib/Number":128,"./lib/Object":129,"./lib/RegExp":130,"./lib/String":131,"./lib/assert":132,"./lib/declare":134,"./lib/dict":135,"./lib/enums":136,"./lib/func":139,"./lib/getTypeName":141,"./lib/intersection":142,"./lib/irreducible":143,"./lib/is":144,"./lib/isType":155,"./lib/list":158,"./lib/match":159,"./lib/maybe":160,"./lib/mixin":161,"./lib/refinement":162,"./lib/struct":164,"./lib/tuple":165,"./lib/union":166,"./lib/update":167}],121:[function(require,module,exports){
var irreducible=require("./irreducible");module.exports=irreducible("Any",function(){return!0});

},{"./irreducible":143}],122:[function(require,module,exports){
var irreducible=require("./irreducible"),isArray=require("./isArray");module.exports=irreducible("Array",isArray);

},{"./irreducible":143,"./isArray":145}],123:[function(require,module,exports){
var irreducible=require("./irreducible"),isBoolean=require("./isBoolean");module.exports=irreducible("Boolean",isBoolean);

},{"./irreducible":143,"./isBoolean":146}],124:[function(require,module,exports){
var irreducible=require("./irreducible");module.exports=irreducible("Date",function(e){return e instanceof Date});

},{"./irreducible":143}],125:[function(require,module,exports){
var irreducible=require("./irreducible");module.exports=irreducible("Error",function(r){return r instanceof Error});

},{"./irreducible":143}],126:[function(require,module,exports){
var irreducible=require("./irreducible"),isFunction=require("./isFunction");module.exports=irreducible("Function",isFunction);

},{"./irreducible":143,"./isFunction":147}],127:[function(require,module,exports){
var irreducible=require("./irreducible"),isNil=require("./isNil");module.exports=irreducible("Nil",isNil);

},{"./irreducible":143,"./isNil":150}],128:[function(require,module,exports){
var irreducible=require("./irreducible"),isNumber=require("./isNumber");module.exports=irreducible("Number",isNumber);

},{"./irreducible":143,"./isNumber":151}],129:[function(require,module,exports){
var irreducible=require("./irreducible"),isObject=require("./isObject");module.exports=irreducible("Object",isObject);

},{"./irreducible":143,"./isObject":152}],130:[function(require,module,exports){
var irreducible=require("./irreducible");module.exports=irreducible("RegExp",function(e){return e instanceof RegExp});

},{"./irreducible":143}],131:[function(require,module,exports){
var irreducible=require("./irreducible"),isString=require("./isString");module.exports=irreducible("String",isString);

},{"./irreducible":143,"./isString":153}],132:[function(require,module,exports){
function assert(i,s){i!==!0&&(isFunction(s)?s=s():isNil(s)&&(s='Assert failed (turn on "Pause on exceptions" in your Source panel)'),assert.fail(s))}var isFunction=require("./isFunction"),isNil=require("./isNil"),fail=require("./fail"),stringify=require("./stringify");assert.fail=fail,assert.stringify=stringify,module.exports=assert;

},{"./fail":137,"./isFunction":147,"./isNil":150,"./stringify":163}],133:[function(require,module,exports){
(function (process){
var isType=require("./isType"),isStruct=require("./isStruct"),getFunctionName=require("./getFunctionName"),assert=require("./assert"),stringify=require("./stringify");module.exports=function(e,i,r){return isType(e)?isStruct(e)?new e(i,r):e(i,r):("production"!==process.env.NODE_ENV&&(r=r||[getFunctionName(e)],assert(i instanceof e,function(){return"Invalid value "+stringify(i)+" supplied to "+r.join("/")})),i)};

}).call(this,require('_process'))
},{"./assert":132,"./getFunctionName":140,"./isStruct":154,"./isType":155,"./stringify":163,"_process":8}],134:[function(require,module,exports){
(function (process){
var assert=require("./assert"),isTypeName=require("./isTypeName"),isType=require("./isType"),isNil=require("./isNil"),mixin=require("./mixin"),getTypeName=require("./getTypeName"),nextDeclareUniqueId=1;module.exports=function(e){function t(e,t){return"production"!==process.env.NODE_ENV&&assert(!isNil(n),function(){return"Type declared but not defined, don't forget to call .define on every declared type"}),n(e,t)}"production"!==process.env.NODE_ENV&&assert(isTypeName(e),function(){return"Invalid argument name "+e+" supplied to declare([name]) (expected a string)"});var n;return t.define=function(i){return"production"!==process.env.NODE_ENV&&(assert(isType(i),function(){return"Invalid argument type "+assert.stringify(i)+" supplied to define(type) (expected a type)"}),assert(isNil(n),function(){return"Declare.define(type) can only be invoked once"}),assert(isNil(i.meta.name)&&0===Object.keys(i.prototype).length,function(){return"Invalid argument type "+assert.stringify(i)+" supplied to define(type) (expected a fresh, unnamed type)"})),n=i,mixin(t,n,!0),e&&(n.displayName=t.displayName=e,t.meta.name=e),t.meta.identity=!1,t.prototype=n.prototype,t},t.displayName=e||getTypeName(t)+"$"+nextDeclareUniqueId++,t.meta={identity:!1},t.prototype=null,t};

}).call(this,require('_process'))
},{"./assert":132,"./getTypeName":141,"./isNil":150,"./isType":155,"./isTypeName":156,"./mixin":161,"_process":8}],135:[function(require,module,exports){
(function (process){
function getDefaultName(e,t){return"{[key: "+getTypeName(e)+"]: "+getTypeName(t)+"}"}function dict(e,t,i){function n(i,n){if("production"===process.env.NODE_ENV&&o)return i;"production"!==process.env.NODE_ENV&&(n=n||[r],assert(isObject(i),function(){return"Invalid value "+assert.stringify(i)+" supplied to "+n.join("/")}));var c=!0,u={};for(var d in i)if(i.hasOwnProperty(d)){d=create(e,d,"production"!==process.env.NODE_ENV?n.concat(a):null);var p=i[d],m=create(t,p,"production"!==process.env.NODE_ENV?n.concat(d+": "+s):null);c=c&&p===m,u[d]=m}return c&&(u=i),"production"!==process.env.NODE_ENV&&Object.freeze(u),u}"production"!==process.env.NODE_ENV&&(assert(isFunction(e),function(){return"Invalid argument domain "+assert.stringify(e)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),assert(isFunction(t),function(){return"Invalid argument codomain "+assert.stringify(t)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),assert(isTypeName(i),function(){return"Invalid argument name "+assert.stringify(i)+" supplied to dict(domain, codomain, [name]) combinator (expected a string)"}));var r=i||getDefaultName(e,t),a=getTypeName(e),s=getTypeName(t),o=isIdentity(e)&&isIdentity(t);return n.meta={kind:"dict",domain:e,codomain:t,name:i,identity:o},n.displayName=r,n.is=function(i){if(!isObject(i))return!1;for(var n in i)if(i.hasOwnProperty(n)&&(!is(n,e)||!is(i[n],t)))return!1;return!0},n.update=function(e,t){return n(assert.update(e,t))},n}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isObject=require("./isObject"),create=require("./create"),is=require("./is");dict.getDefaultName=getDefaultName,module.exports=dict;

}).call(this,require('_process'))
},{"./assert":132,"./create":133,"./getTypeName":141,"./is":144,"./isFunction":147,"./isIdentity":148,"./isObject":152,"./isTypeName":156,"_process":8}],136:[function(require,module,exports){
(function (process){
function getDefaultName(e){return Object.keys(e).map(function(e){return assert.stringify(e)}).join(" | ")}function enums(e,t){function r(t,i){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,r),i=i||[n],assert(r.is(t),function(){return"Invalid value "+assert.stringify(t)+" supplied to "+i.join("/")+" (expected one of "+assert.stringify(Object.keys(e))+")"})),t}"production"!==process.env.NODE_ENV&&(assert(isObject(e),function(){return"Invalid argument map "+assert.stringify(e)+" supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to enums(map, [name]) combinator (expected a string)"}));var n=t||getDefaultName(e);return r.meta={kind:"enums",map:e,name:t,identity:!0},r.displayName=n,r.is=function(t){return e.hasOwnProperty(t)},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),forbidNewOperator=require("./forbidNewOperator"),isString=require("./isString"),isObject=require("./isObject");enums.of=function(e,t){e=isString(e)?e.split(" "):e;var r={};return e.forEach(function(e){r[e]=e}),enums(r,t)},enums.getDefaultName=getDefaultName,module.exports=enums;

}).call(this,require('_process'))
},{"./assert":132,"./forbidNewOperator":138,"./isObject":152,"./isString":153,"./isTypeName":156,"_process":8}],137:[function(require,module,exports){
module.exports=function(o){throw new TypeError("[tcomb] "+o)};

},{}],138:[function(require,module,exports){
var assert=require("./assert"),getTypeName=require("./getTypeName");module.exports=function(e,t){assert(!(e instanceof t),function(){return"Cannot use the new operator to instantiate the type "+getTypeName(t)})};

},{"./assert":132,"./getTypeName":141}],139:[function(require,module,exports){
(function (process){
function getDefaultName(e,n){return"("+e.map(getTypeName).join(", ")+") => "+getTypeName(n)}function isInstrumented(e){return FunctionType.is(e)&&isObject(e.instrumentation)}function func(e,n,t){function i(e,n){return isInstrumented(e)?("production"!==process.env.NODE_ENV&&assert(i.is(e),function(){return"Invalid value "+assert.stringify(e)+" supplied to "+r}),e):i.of(e,n)}e=isArray(e)?e:[e],"production"!==process.env.NODE_ENV&&(assert(list(FunctionType).is(e),function(){return"Invalid argument domain "+assert.stringify(e)+" supplied to func(domain, codomain, [name]) combinator (expected an array of types)"}),assert(FunctionType.is(n),function(){return"Invalid argument codomain "+assert.stringify(n)+" supplied to func(domain, codomain, [name]) combinator (expected a type)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to func(domain, codomain, [name]) combinator (expected a string)"}));var r=t||getDefaultName(e,n);return i.meta={kind:"func",domain:e,codomain:n,name:t,identity:!0},i.displayName=r,i.is=function(t){return isInstrumented(t)&&t.instrumentation.domain.length===e.length&&t.instrumentation.domain.every(function(n,t){return n===e[t]})&&t.instrumentation.codomain===n},i.of=function(t,a){function o(){var i=Array.prototype.slice.call(arguments),r=a?i.length:e.length,o=tuple(e.slice(0,r));if(i=o(i),r===e.length)return create(n,t.apply(this,i));var u=Function.prototype.bind.apply(t,[this].concat(i)),s=func(e.slice(r),n);return s.of(u,a)}return"production"!==process.env.NODE_ENV&&(assert(FunctionType.is(t),function(){return"Invalid argument f supplied to func.of "+r+" (expected a function)"}),assert(isNil(a)||isBoolean(a),function(){return"Invalid argument curried "+assert.stringify(a)+" supplied to func.of "+r+" (expected a boolean)"})),i.is(t)?t:(o.instrumentation={domain:e,codomain:n,f:t},o.displayName=getFunctionName(t),o)},i}var assert=require("./assert"),isTypeName=require("./isTypeName"),FunctionType=require("./Function"),isArray=require("./isArray"),list=require("./list"),isObject=require("./isObject"),create=require("./create"),isNil=require("./isNil"),isBoolean=require("./isBoolean"),tuple=require("./tuple"),getFunctionName=require("./getFunctionName"),getTypeName=require("./getTypeName");func.getDefaultName=getDefaultName,module.exports=func;

}).call(this,require('_process'))
},{"./Function":126,"./assert":132,"./create":133,"./getFunctionName":140,"./getTypeName":141,"./isArray":145,"./isBoolean":146,"./isNil":150,"./isObject":152,"./isTypeName":156,"./list":158,"./tuple":165,"_process":8}],140:[function(require,module,exports){
module.exports=function(n){return n.displayName||n.name||"<function"+n.length+">"};

},{}],141:[function(require,module,exports){
var isType=require("./isType"),getFunctionName=require("./getFunctionName");module.exports=function(e){return isType(e)?e.displayName:getFunctionName(e)};

},{"./getFunctionName":140,"./isType":155}],142:[function(require,module,exports){
(function (process){
function getDefaultName(e){return e.map(getTypeName).join(" & ")}function intersection(e,t){function r(e,t){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,r),t=t||[i],assert(r.is(e),function(){return"Invalid value "+assert.stringify(e)+" supplied to "+t.join("/")})),e}"production"!==process.env.NODE_ENV&&(assert(isArray(e)&&e.every(isFunction)&&e.length>=2,function(){return"Invalid argument types "+assert.stringify(e)+" supplied to intersection(types, [name]) combinator (expected an array of at least 2 types)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to intersection(types, [name]) combinator (expected a string)"}));var i=t||getDefaultName(e);return r.meta={kind:"intersection",types:e,name:t,identity:!0},r.displayName=i,r.is=function(t){return e.every(function(e){return is(t,e)})},r.update=function(e,t){return r(assert.update(e,t))},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),isArray=require("./isArray"),forbidNewOperator=require("./isIdentity"),is=require("./is"),getTypeName=require("./getTypeName");intersection.getDefaultName=getDefaultName,module.exports=intersection;

}).call(this,require('_process'))
},{"./assert":132,"./getTypeName":141,"./is":144,"./isArray":145,"./isFunction":147,"./isIdentity":148,"./isTypeName":156,"_process":8}],143:[function(require,module,exports){
(function (process){
var assert=require("./assert"),isString=require("./isString"),isFunction=require("./isFunction"),forbidNewOperator=require("./forbidNewOperator");module.exports=function(e,r){function i(t,n){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,i),n=n||[e],assert(r(t),function(){return"Invalid value "+assert.stringify(t)+" supplied to "+n.join("/")})),t}return"production"!==process.env.NODE_ENV&&(assert(isString(e),function(){return"Invalid argument name "+assert.stringify(e)+" supplied to irreducible(name, predicate) (expected a string)"}),assert(isFunction(r),"Invalid argument predicate "+assert.stringify(r)+" supplied to irreducible(name, predicate) (expected a function)")),i.meta={kind:"irreducible",name:e,predicate:r,identity:!0},i.displayName=e,i.is=r,i};

}).call(this,require('_process'))
},{"./assert":132,"./forbidNewOperator":138,"./isFunction":147,"./isString":153,"_process":8}],144:[function(require,module,exports){
var isType=require("./isType");module.exports=function(e,i){return isType(i)?i.is(e):e instanceof i};

},{"./isType":155}],145:[function(require,module,exports){
module.exports=function(n){return n instanceof Array};

},{}],146:[function(require,module,exports){
module.exports=function(e){return e===!0||e===!1};

},{}],147:[function(require,module,exports){
module.exports=function(n){return"function"==typeof n};

},{}],148:[function(require,module,exports){
(function (process){
var assert=require("./assert"),Boolean=require("./Boolean"),isType=require("./isType"),getTypeName=require("./getTypeName");module.exports=function(e){return isType(e)?("production"!==process.env.NODE_ENV&&assert(Boolean.is(e.meta.identity),function(){return"Invalid meta identity "+assert.stringify(e.meta.identity)+" supplied to type "+getTypeName(e)}),e.meta.identity):!0};

}).call(this,require('_process'))
},{"./Boolean":123,"./assert":132,"./getTypeName":141,"./isType":155,"_process":8}],149:[function(require,module,exports){
var isType=require("./isType");module.exports=function(e){return isType(e)&&"maybe"===e.meta.kind};

},{"./isType":155}],150:[function(require,module,exports){
module.exports=function(n){return null===n||void 0===n};

},{}],151:[function(require,module,exports){
module.exports=function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)};

},{}],152:[function(require,module,exports){
var isNil=require("./isNil"),isArray=require("./isArray");module.exports=function(r){return!isNil(r)&&"object"==typeof r&&!isArray(r)};

},{"./isArray":145,"./isNil":150}],153:[function(require,module,exports){
module.exports=function(t){return"string"==typeof t};

},{}],154:[function(require,module,exports){
var isType=require("./isType");module.exports=function(e){return isType(e)&&"struct"===e.meta.kind};

},{"./isType":155}],155:[function(require,module,exports){
var isFunction=require("./isFunction"),isObject=require("./isObject");module.exports=function(i){return isFunction(i)&&isObject(i.meta)};

},{"./isFunction":147,"./isObject":152}],156:[function(require,module,exports){
var isNil=require("./isNil"),isString=require("./isString");module.exports=function(i){return isNil(i)||isString(i)};

},{"./isNil":150,"./isString":153}],157:[function(require,module,exports){
var isType=require("./isType");module.exports=function(e){return isType(e)&&"union"===e.meta.kind};

},{"./isType":155}],158:[function(require,module,exports){
(function (process){
function getDefaultName(e){return"Array<"+getTypeName(e)+">"}function list(e,t){function r(t,r){if("production"===process.env.NODE_ENV&&s)return t;"production"!==process.env.NODE_ENV&&(r=r||[i],assert(isArray(t),function(){return"Invalid value "+assert.stringify(t)+" supplied to "+r.join("/")+" (expected an array of "+n+")"}));for(var a=!0,u=[],o=0,p=t.length;p>o;o++){var c=t[o],y=create(e,c,"production"!==process.env.NODE_ENV?r.concat(o+": "+n):null);a=a&&c===y,u.push(y)}return a&&(u=t),"production"!==process.env.NODE_ENV&&Object.freeze(u),u}"production"!==process.env.NODE_ENV&&(assert(isFunction(e),function(){return"Invalid argument type "+assert.stringify(e)+" supplied to list(type, [name]) combinator (expected a type)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to list(type, [name]) combinator (expected a string)"}));var i=t||getDefaultName(e),n=getTypeName(e),s=isIdentity(e);return r.meta={kind:"list",type:e,name:t,identity:s},r.displayName=i,r.is=function(t){return isArray(t)&&t.every(function(t){return is(t,e)})},r.update=function(e,t){return r(assert.update(e,t))},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),create=require("./create"),is=require("./is"),isArray=require("./isArray");list.getDefaultName=getDefaultName,module.exports=list;

}).call(this,require('_process'))
},{"./assert":132,"./create":133,"./getTypeName":141,"./is":144,"./isArray":145,"./isFunction":147,"./isIdentity":148,"./isTypeName":156,"_process":8}],159:[function(require,module,exports){
(function (process){
var assert=require("./assert"),isFunction=require("./isFunction"),isType=require("./isType"),Any=require("./Any");module.exports=function(n){for(var i,e,r,s,t=1,u=arguments.length;u>t;)if(i=arguments[t],e=arguments[t+1],r=arguments[t+2],isFunction(r)&&!isType(r)?t+=3:(r=e,e=Any.is,t+=2),"production"!==process.env.NODE_ENV&&(s=(s||0)+1,assert(isType(i),function(){return"Invalid type in clause #"+s}),assert(isFunction(e),function(){return"Invalid guard in clause #"+s}),assert(isFunction(r),function(){return"Invalid block in clause #"+s})),i.is(n)&&e(n))return r(n);assert.fail("Match error")};

}).call(this,require('_process'))
},{"./Any":121,"./assert":132,"./isFunction":147,"./isType":155,"_process":8}],160:[function(require,module,exports){
(function (process){
function getDefaultName(e){return"?"+getTypeName(e)}function maybe(e,i){function r(i,t){return"production"!==process.env.NODE_ENV&&forbidNewOperator(this,r),Nil.is(i)?i:create(e,i,t)}if(isMaybe(e)||e===Any||e===Nil)return e;"production"!==process.env.NODE_ENV&&(assert(isFunction(e),function(){return"Invalid argument type "+assert.stringify(e)+" supplied to maybe(type, [name]) combinator (expected a type)"}),assert(isTypeName(i),function(){return"Invalid argument name "+assert.stringify(i)+" supplied to maybe(type, [name]) combinator (expected a string)"}));var t=i||getDefaultName(e);return r.meta={kind:"maybe",type:e,name:i,identity:isIdentity(e)},r.displayName=t,r.is=function(i){return Nil.is(i)||is(i,e)},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),isMaybe=require("./isMaybe"),isIdentity=require("./isIdentity"),Any=require("./Any"),create=require("./create"),Nil=require("./Nil"),forbidNewOperator=require("./forbidNewOperator"),is=require("./is"),getTypeName=require("./getTypeName");maybe.getDefaultName=getDefaultName,module.exports=maybe;

}).call(this,require('_process'))
},{"./Any":121,"./Nil":127,"./assert":132,"./create":133,"./forbidNewOperator":138,"./getTypeName":141,"./is":144,"./isFunction":147,"./isIdentity":148,"./isMaybe":149,"./isTypeName":156,"_process":8}],161:[function(require,module,exports){
(function (process){
var isNil=require("./isNil"),assert=require("./assert");module.exports=function(r,e,t){if(isNil(e))return r;for(var i in e)e.hasOwnProperty(i)&&(t!==!0&&"production"!==process.env.NODE_ENV&&assert(!r.hasOwnProperty(i),function(){return'Invalid call to mixin(target, source, [overwrite]): cannot overwrite property "'+i+'" of target object'}),r[i]=e[i]);return r};

}).call(this,require('_process'))
},{"./assert":132,"./isNil":150,"_process":8}],162:[function(require,module,exports){
(function (process){
function getDefaultName(e,t){return"{"+getTypeName(e)+" | "+getFunctionName(t)+"}"}function refinement(e,t,r){function n(r,a){"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,n),a=a||[i]);var u=create(e,r,a);return"production"!==process.env.NODE_ENV&&assert(t(u),function(){return"Invalid value "+assert.stringify(r)+" supplied to "+a.join("/")}),u}"production"!==process.env.NODE_ENV&&(assert(isFunction(e),function(){return"Invalid argument type "+assert.stringify(e)+" supplied to refinement(type, predicate, [name]) combinator (expected a type)"}),assert(isFunction(t),function(){return"Invalid argument predicate supplied to refinement(type, predicate, [name]) combinator (expected a function)"}),assert(isTypeName(r),function(){return"Invalid argument name "+assert.stringify(r)+" supplied to refinement(type, predicate, [name]) combinator (expected a string)"}));var i=r||getDefaultName(e,t),a=isIdentity(e);return n.meta={kind:"subtype",type:e,predicate:t,name:r,identity:a},n.displayName=i,n.is=function(r){return is(r,e)&&t(r)},n.update=function(e,t){return n(assert.update(e,t))},n}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),forbidNewOperator=require("./forbidNewOperator"),isIdentity=require("./isIdentity"),create=require("./create"),is=require("./is"),getTypeName=require("./getTypeName"),getFunctionName=require("./getFunctionName");refinement.getDefaultName=getDefaultName,module.exports=refinement;

}).call(this,require('_process'))
},{"./assert":132,"./create":133,"./forbidNewOperator":138,"./getFunctionName":140,"./getTypeName":141,"./is":144,"./isFunction":147,"./isIdentity":148,"./isTypeName":156,"_process":8}],163:[function(require,module,exports){
module.exports=function(r){try{return JSON.stringify(r,null,2)}catch(t){return String(r)}};

},{}],164:[function(require,module,exports){
(function (process){
function getDefaultName(e){return"{"+Object.keys(e).map(function(t){return t+": "+getTypeName(e[t])}).join(", ")+"}"}function extend(e,t){"production"!==process.env.NODE_ENV&&assert(isArray(e)&&e.every(function(e){return isObject(e)||isStruct(e)}),function(){return"Invalid argument mixins supplied to extend(mixins, name), expected an array of objects or structs"});var r={},n={};e.forEach(function(e){isObject(e)?mixin(r,e):(mixin(r,e.meta.props),mixin(n,e.prototype))});var i=struct(r,t);return mixin(i.prototype,n),i}function struct(e,t){function r(t,i){if(r.is(t))return t;if("production"!==process.env.NODE_ENV&&(i=i||[n],assert(isObject(t),function(){return"Invalid value "+assert.stringify(t)+" supplied to "+i.join("/")+" (expected an object)"})),!(this instanceof r))return new r(t,i);for(var s in e)if(e.hasOwnProperty(s)){var u=e[s],a=t[s];this[s]=create(u,a,"production"!==process.env.NODE_ENV?i.concat(s+": "+getTypeName(u)):null)}"production"!==process.env.NODE_ENV&&Object.freeze(this)}"production"!==process.env.NODE_ENV&&(assert(dict(String,Function).is(e),function(){return"Invalid argument props "+assert.stringify(e)+" supplied to struct(props, [name]) combinator (expected a dictionary String -> Type)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to struct(props, [name]) combinator (expected a string)"}));var n=t||getDefaultName(e);return r.meta={kind:"struct",props:e,name:t,identity:!1},r.displayName=n,r.is=function(e){return e instanceof r},r.update=function(e,t){return new r(assert.update(e,t))},r.extend=function(e,t){return extend([r].concat(e),t)},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),String=require("./String"),Function=require("./Function"),isArray=require("./isArray"),isObject=require("./isObject"),create=require("./create"),mixin=require("./mixin"),isStruct=require("./isStruct"),getTypeName=require("./getTypeName"),dict=require("./dict");struct.getDefaultName=getDefaultName,struct.extend=extend,module.exports=struct;

}).call(this,require('_process'))
},{"./Function":126,"./String":131,"./assert":132,"./create":133,"./dict":135,"./getTypeName":141,"./isArray":145,"./isObject":152,"./isStruct":154,"./isTypeName":156,"./mixin":161,"_process":8}],165:[function(require,module,exports){
(function (process){
function getDefaultName(e){return"["+e.map(getTypeName).join(", ")+"]"}function tuple(e,t){function r(t,r){if("production"===process.env.NODE_ENV&&i)return t;"production"!==process.env.NODE_ENV&&(r=r||[n],assert(isArray(t)&&t.length===e.length,function(){return"Invalid value "+assert.stringify(t)+" supplied to "+r.join("/")+" (expected an array of length "+e.length+")"}));for(var a=!0,s=[],u=0,p=e.length;p>u;u++){var o=e[u],c=t[u],y=create(o,c,"production"!==process.env.NODE_ENV?r.concat(u+": "+getTypeName(o)):null);a=a&&c===y,s.push(y)}return a&&(s=t),"production"!==process.env.NODE_ENV&&Object.freeze(s),s}"production"!==process.env.NODE_ENV&&(assert(isArray(e)&&e.every(isFunction),function(){return"Invalid argument types "+assert.stringify(e)+" supplied to tuple(types, [name]) combinator (expected an array of types)"}),assert(isTypeName(t),function(){return"Invalid argument name "+assert.stringify(t)+" supplied to tuple(types, [name]) combinator (expected a string)"}));var n=t||getDefaultName(e),i=e.every(isIdentity);return r.meta={kind:"tuple",types:e,name:t,identity:i},r.displayName=n,r.is=function(t){return isArray(t)&&t.length===e.length&&e.every(function(e,r){return is(t[r],e)})},r.update=function(e,t){return r(assert.update(e,t))},r}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isArray=require("./isArray"),create=require("./create"),is=require("./is");tuple.getDefaultName=getDefaultName,module.exports=tuple;

}).call(this,require('_process'))
},{"./assert":132,"./create":133,"./getTypeName":141,"./is":144,"./isArray":145,"./isFunction":147,"./isIdentity":148,"./isTypeName":156,"_process":8}],166:[function(require,module,exports){
(function (process){
function getDefaultName(e){return e.map(getTypeName).join(" | ")}function union(e,r){function i(e,r){if("production"===process.env.NODE_ENV&&n)return e;var s=i.dispatch(e);return!s&&i.is(e)?e:("production"!==process.env.NODE_ENV&&(forbidNewOperator(this,i),r=r||[t],assert(isType(s),function(){return"Invalid value "+assert.stringify(e)+" supplied to "+r.join("/")+" (no constructor returned by dispatch)"}),r[r.length-1]+="("+getTypeName(s)+")"),create(s,e,r))}"production"!==process.env.NODE_ENV&&(assert(isArray(e)&&e.every(isFunction)&&e.length>=2,function(){return"Invalid argument types "+assert.stringify(e)+" supplied to union(types, [name]) combinator (expected an array of at least 2 types)"}),assert(isTypeName(r),function(){return"Invalid argument name "+assert.stringify(r)+" supplied to union(types, [name]) combinator (expected a string)"}));var t=r||getDefaultName(e),n=e.every(isIdentity);return i.meta={kind:"union",types:e,name:r,identity:n},i.displayName=t,i.is=function(r){return e.some(function(e){return is(r,e)})},i.dispatch=function(r){for(var i=0,t=e.length;t>i;i++){var n=e[i];if(isUnion(n)){var s=n.dispatch(r);if(!isNil(s))return s}else if(is(r,n))return n}},i.update=function(e,r){return i(assert.update(e,r))},i}var assert=require("./assert"),isTypeName=require("./isTypeName"),isFunction=require("./isFunction"),getTypeName=require("./getTypeName"),isIdentity=require("./isIdentity"),isArray=require("./isArray"),create=require("./create"),is=require("./is"),forbidNewOperator=require("./forbidNewOperator"),isType=require("./isType"),isUnion=require("./isUnion"),isNil=require("./isNil");union.getDefaultName=getDefaultName,module.exports=union;

}).call(this,require('_process'))
},{"./assert":132,"./create":133,"./forbidNewOperator":138,"./getTypeName":141,"./is":144,"./isArray":145,"./isFunction":147,"./isIdentity":148,"./isNil":150,"./isType":155,"./isTypeName":156,"./isUnion":157,"_process":8}],167:[function(require,module,exports){
(function (process){
function getShallowCopy(e){return isArray(e)?e.concat():e instanceof Date||e instanceof RegExp?e:isObject(e)?mixin({},e):e}function update(e,t){"production"!==process.env.NODE_ENV&&assert(isObject(t),function(){return"Invalid argument patch "+assert.stringify(t)+" supplied to function update(instance, patch): expected an object containing commands"});var r=getShallowCopy(e),i=!1;for(var a in t)if(t.hasOwnProperty(a))if(update.commands.hasOwnProperty(a))r=update.commands[a](t[a],r),i=!0;else{var n=update(r[a],t[a]);i=i||n!==r[a],r[a]=n}return i?r:e}function $apply(e,t){return"production"!==process.env.NODE_ENV&&assert(isFunction(e),"Invalid argument f supplied to immutability helper { $apply: f } (expected a function)"),e(t)}function $push(e,t){return"production"!==process.env.NODE_ENV&&(assert(isArray(e),"Invalid argument elements supplied to immutability helper { $push: elements } (expected an array)"),assert(isArray(t),"Invalid value supplied to immutability helper $push (expected an array)")),t.concat(e)}function $remove(e,t){"production"!==process.env.NODE_ENV&&(assert(isArray(e),"Invalid argument keys supplied to immutability helper { $remove: keys } (expected an array)"),assert(isObject(t),"Invalid value supplied to immutability helper $remove (expected an object)"));for(var r=0,i=e.length;i>r;r++)delete t[e[r]];return t}function $set(e){return e}function $splice(e,t){return"production"!==process.env.NODE_ENV&&(assert(isArray(e)&&e.every(isArray),"Invalid argument splices supplied to immutability helper { $splice: splices } (expected an array of arrays)"),assert(isArray(t),"Invalid value supplied to immutability helper $splice (expected an array)")),e.reduce(function(e,t){return e.splice.apply(e,t),e},t)}function $swap(e,t){"production"!==process.env.NODE_ENV&&(assert(isObject(e),"Invalid argument config supplied to immutability helper { $swap: config } (expected an object)"),assert(isNumber(e.from),"Invalid argument config.from supplied to immutability helper { $swap: config } (expected a number)"),assert(isNumber(e.to),"Invalid argument config.to supplied to immutability helper { $swap: config } (expected a number)"),assert(isArray(t),"Invalid value supplied to immutability helper $swap (expected an array)"));var r=t[e.to];return t[e.to]=t[e.from],t[e.from]=r,t}function $unshift(e,t){return"production"!==process.env.NODE_ENV&&(assert(isArray(e),"Invalid argument elements supplied to immutability helper {$unshift: elements} (expected an array)"),assert(isArray(t),"Invalid value supplied to immutability helper $unshift (expected an array)")),e.concat(t)}function $merge(e,t){return mixin(mixin({},t),e,!0)}var assert=require("./assert"),isObject=require("./isObject"),isFunction=require("./isFunction"),isArray=require("./isArray"),isNumber=require("./isNumber"),mixin=require("./mixin");update.commands={$apply:$apply,$push:$push,$remove:$remove,$set:$set,$splice:$splice,$swap:$swap,$unshift:$unshift,$merge:$merge},module.exports=update;

}).call(this,require('_process'))
},{"./assert":132,"./isArray":145,"./isFunction":147,"./isNumber":151,"./isObject":152,"./mixin":161,"_process":8}],168:[function(require,module,exports){
"use strict";function unique_pred(n,e){for(var u=1,t=n.length,i=n[0],r=n[0],o=1;t>o;++o)if(r=i,i=n[o],e(i,r)){if(o===u){u++;continue}n[u++]=i}return n.length=u,n}function unique_eq(n){for(var e=1,u=n.length,t=n[0],i=n[0],r=1;u>r;++r,i=t)if(i=t,t=n[r],t!==i){if(r===e){e++;continue}n[e++]=t}return n.length=e,n}function unique(n,e,u){return 0===n.length?n:e?(u||n.sort(e),unique_pred(n,e)):(u||n.sort(),unique_eq(n))}module.exports=unique;

},{}]},{},[48]);
